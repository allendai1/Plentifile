(this.webpackJsonpproject1=this.webpackJsonpproject1||[]).push([[0],{179:function(e,t,c){},199:function(e,t){},201:function(e,t){},212:function(e,t){},214:function(e,t){},241:function(e,t){},243:function(e,t){},244:function(e,t){},249:function(e,t){},251:function(e,t){},270:function(e,t){},282:function(e,t){},285:function(e,t){},293:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(34),r=c.n(s),i=(c(179),c(4)),o=c(28),l=(c(180),c(294),c(295),o.a.initializeApp({apiKey:"AIzaSyBHFhdKpwEAOQdImeAglP0Q1vSRkizzRzk",authDomain:"auth-f9766.firebaseapp.com",projectId:"auth-f9766",storageBucket:"auth-f9766.appspot.com",messagingSenderId:"42022282446",appId:"1:42022282446:web:462f2ea632409ddbb49c9f"})),d=l.firestore(),j=l.storage(),u={users:d.collection("users"),links:d.collection("links")},h=l.auth(),b=c(0),O=a.a.createContext();function p(){return Object(n.useContext)(O)}function x(e){var t=e.children,c=Object(n.useState)(),a=Object(i.a)(c,2),s=a[0],r=a[1],o=Object(n.useState)(!0),l=Object(i.a)(o,2),d=l[0],j=l[1];Object(n.useEffect)((function(){return h.onAuthStateChanged((function(e){r(e),j(!1)}))}),[]);var u={currentUser:s,login:function(e,t){return h.signInWithEmailAndPassword(e,t)},signup:function(e,t){return h.createUserWithEmailAndPassword(e,t)},logout:function(){return h.signOut()},resetPassword:function(e){return h.sendPasswordResetEmail(e)},updateEmail:function(e){return s.updateEmail(e)},updatePassword:function(e){return s.updatePassword(e)}};return Object(b.jsx)(O.Provider,{value:u,children:!d&&t})}var f=c(27),v=c(16),m=c(8),g=c.n(m),w=c(15),C=c(307),k=c(300),N=c(301);c(62);var y=function(e){var t=Object(v.g)(),c=p(),n=c.currentUser,a=c.logout;function s(){return r.apply(this,arguments)}function r(){return(r=Object(w.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a();case 3:t.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("error");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return document.getElementById("App").classList.add("closeMargin"),Object(b.jsxs)("div",{id:"mySidenav",className:"sidenav closeNav",children:[Object(b.jsxs)("div",{className:"h-flex",children:[Object(b.jsx)("svg",{className:"svg-home",viewBox:"0 0 20 20",onClick:function(){n?t.push("/home"):t.push("/")},children:Object(b.jsx)("path",{d:"M18.121,9.88l-7.832-7.836c-0.155-0.158-0.428-0.155-0.584,0L1.842,9.913c-0.262,0.263-0.073,0.705,0.292,0.705h2.069v7.042c0,0.227,0.187,0.414,0.414,0.414h3.725c0.228,0,0.414-0.188,0.414-0.414v-3.313h2.483v3.313c0,0.227,0.187,0.414,0.413,0.414h3.726c0.229,0,0.414-0.188,0.414-0.414v-7.042h2.068h0.004C18.331,10.617,18.389,10.146,18.121,9.88 M14.963,17.245h-2.896v-3.313c0-0.229-0.186-0.415-0.414-0.415H8.342c-0.228,0-0.414,0.187-0.414,0.415v3.313H5.032v-6.628h9.931V17.245z M3.133,9.79l6.864-6.868l6.867,6.868H3.133z"})}),Object(b.jsx)("a",{href:n?"/home":"/",children:"Home"})]}),n&&Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"h-flex",children:[Object(b.jsx)("svg",{className:"svg-files",viewBox:"0 0 20 20",onClick:function(){t.push("/files")},children:Object(b.jsx)("path",{d:"M17.927,5.828h-4.41l-1.929-1.961c-0.078-0.079-0.186-0.125-0.297-0.125H4.159c-0.229,0-0.417,0.188-0.417,0.417v1.669H2.073c-0.229,0-0.417,0.188-0.417,0.417v9.596c0,0.229,0.188,0.417,0.417,0.417h15.854c0.229,0,0.417-0.188,0.417-0.417V6.245C18.344,6.016,18.156,5.828,17.927,5.828 M4.577,4.577h6.539l1.231,1.251h-7.77V4.577z M17.51,15.424H2.491V6.663H17.51V15.424z"})}),Object(b.jsx)("a",{href:"/files",children:"My Files"})]})}),n&&Object(b.jsxs)("div",{className:"h-flex",children:[Object(b.jsxs)("svg",{onClick:s,className:"svg-logout",viewBox:"-110 -90 550 550",children:[Object(b.jsx)("path",{d:"M180.455,360.91H24.061V24.061h156.394c6.641,0,12.03-5.39,12.03-12.03s-5.39-12.03-12.03-12.03H12.03 C5.39,0.001,0,5.39,0,12.031V372.94c0,6.641,5.39,12.03,12.03,12.03h168.424c6.641,0,12.03-5.39,12.03-12.03\tC192.485,366.299,187.095,360.91,180.455,360.91z"})," ",Object(b.jsx)("path",{d:"M381.481,184.088l-83.009-84.2c-4.704-4.752-12.319-4.74-17.011,0c-4.704,4.74-4.704,12.439,0,17.179l62.558,63.46H96.279\tc-6.641,0-12.03,5.438-12.03,12.151c0,6.713,5.39,12.151,12.03,12.151h247.74l-62.558,63.46c-4.704,4.752-4.704,12.439,0,17.179\tc4.704,4.752,12.319,4.752,17.011,0l82.997-84.2C386.113,196.588,386.161,188.756,381.481,184.088z"})]}),Object(b.jsx)("div",{id:"logout",onClick:s,children:"Logout"})]}),Object(b.jsx)("div",{className:"h-flex divider",children:Object(b.jsx)("hr",{className:"navbar-divider"})}),Object(b.jsxs)("div",{className:"h-flex toggleClose",children:[Object(b.jsx)("svg",{className:"svg-toggle",viewBox:"0 0 20 20",onClick:function(e){e.preventDefault(),document.getElementById("App").classList.add("openMargin"),document.getElementById("mySidenav").classList.add("openNav"),document.getElementById("App").classList.remove("closeMargin"),document.getElementById("mySidenav").classList.remove("closeNav")},children:Object(b.jsx)("path",{d:"M12.522,10.4l-3.559,3.562c-0.172,0.173-0.451,0.176-0.625,0c-0.173-0.173-0.173-0.451,0-0.624l3.248-3.25L8.161,6.662c-0.173-0.173-0.173-0.452,0-0.624c0.172-0.175,0.451-0.175,0.624,0l3.738,3.736C12.695,9.947,12.695,10.228,12.522,10.4 M18.406,10c0,4.644-3.764,8.406-8.406,8.406c-4.644,0-8.406-3.763-8.406-8.406S5.356,1.594,10,1.594C14.643,1.594,18.406,5.356,18.406,10M17.521,10c0-4.148-3.374-7.521-7.521-7.521c-4.148,0-7.521,3.374-7.521,7.521c0,4.147,3.374,7.521,7.521,7.521C14.147,17.521,17.521,14.147,17.521,10"})}),Object(b.jsx)("div",{id:"close",onClick:function(e){e.preventDefault(),document.getElementById("mySidenav").classList.add("closeNav"),document.getElementById("App").classList.add("closeMargin"),document.getElementById("App").classList.remove("openMargin"),document.getElementById("mySidenav").classList.remove("openNav")},children:"Close"})]})]})};function S(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=p(),r=s.currentUser,o=s.logout,l=Object(v.g)();function d(){return(d=Object(w.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),e.prev=1,e.next=4,o();case 4:l.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(y,{}),Object(b.jsx)(C.a,{children:Object(b.jsxs)(C.a.Body,{children:[Object(b.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),c&&Object(b.jsx)(k.a,{variant:"danger",children:c}),Object(b.jsx)("strong",{children:"Email:"})," ",r.email]})}),Object(b.jsx)("div",{className:"w-100 text-center mt-2",children:Object(b.jsx)(N.a,{variant:"link",onClick:function(){return d.apply(this,arguments)},children:"Log Out"})})]})}var M=c(43),B=c(174);function F(e){var t=e.component,c=Object(B.a)(e,["component"]),n=p().currentUser;return Object(b.jsx)(v.b,Object(M.a)(Object(M.a)({},c),{},{render:function(e){return n?Object(b.jsx)(t,Object(M.a)({},e)):Object(b.jsx)(v.a,{to:"/"})}}))}var L=c(302),D=c(306);function z(){var e=Object(n.useRef)(),t=p().resetPassword,c=Object(n.useState)(""),a=Object(i.a)(c,2),s=a[0],r=a[1],o=Object(n.useState)(""),l=Object(i.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)(!1),h=Object(i.a)(u,2),O=h[0],x=h[1];function v(){return(v=Object(w.a)(g.a.mark((function c(n){return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.prev=1,j(""),r(""),x(!0),c.next=7,t(e.current.value);case 7:j("Check your inbox for further instructions"),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),r("Failed to reset password");case 13:x(!1);case 14:case"end":return c.stop()}}),c,null,[[1,10]])})))).apply(this,arguments)}return Object(b.jsx)(L.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(b.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(b.jsx)(C.a,{children:Object(b.jsxs)(C.a.Body,{children:[Object(b.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),s&&Object(b.jsx)(k.a,{variant:"danger",children:s}),d&&Object(b.jsx)(k.a,{variant:"success",children:d}),Object(b.jsxs)(D.a,{onSubmit:function(e){return v.apply(this,arguments)},children:[Object(b.jsxs)(D.a.Group,{id:"email",children:[Object(b.jsx)(D.a.Label,{children:"Email"}),Object(b.jsx)(D.a.Control,{type:"email",ref:e,required:!0})]}),Object(b.jsx)(N.a,{disabled:O,className:"w-100",type:"submit",children:"Reset Password"})]}),Object(b.jsx)("div",{className:"w-100 text-center mt-3",children:Object(b.jsx)(f.b,{to:"/login",children:"Login"})})]})}),Object(b.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(b.jsx)(f.b,{to:"/signup",children:"Sign Up"})]})]})})}function E(e){var t=Object(n.useRef)(),c=Object(n.useRef)(),a=Object(n.useRef)(),s=p(),r=s.signup,o=s.currentUser,l=Object(n.useState)(""),d=Object(i.a)(l,2),j=d[0],h=d[1],O=Object(n.useState)(!1),x=Object(i.a)(O,2),f=x[0],m=x[1],C=Object(v.g)();function y(){return(y=Object(w.a)(g.a.mark((function e(n){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),c.current.value===a.current.value){e.next=3;break}return e.abrupt("return",h("Passwords do not match"));case 3:return e.prev=3,h(""),m(!0),e.next=8,r(t.current.value,c.current.value);case 8:s=e.sent,u.users.doc(s.user.uid).set({linksCreated:0,totalFileSize:0,lastUploaded:""}),C.push("/home"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),h("Failed to create an acconut"),m(!1);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){o&&C.push("/")})),Object(b.jsx)(L.a,{style:{padding:"1.25rem 1.25rem"},children:Object(b.jsxs)("div",{className:"w-100",children:[Object(b.jsx)("h2",{children:"Sign Up"}),j&&Object(b.jsx)(k.a,{variant:"danger",children:j}),Object(b.jsxs)(D.a,{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(b.jsxs)(D.a.Group,{id:"email",children:[Object(b.jsx)(D.a.Label,{children:"Email"}),Object(b.jsx)(D.a.Control,{type:"email",ref:t,required:!0})]}),Object(b.jsxs)(D.a.Group,{id:"password-confirm",children:[Object(b.jsx)(D.a.Label,{children:"Password"}),Object(b.jsx)(D.a.Control,{type:"password",ref:c,required:!0})]}),Object(b.jsxs)(D.a.Group,{id:"password",children:[Object(b.jsx)(D.a.Label,{children:"Confirm Password"}),Object(b.jsx)(D.a.Control,{type:"password",ref:a,required:!0})]}),Object(b.jsx)(N.a,{disabled:f,type:"submit",className:"w-100",children:"Sign Up"})]}),Object(b.jsxs)("div",{className:"w-100 text-center mt-2",children:["Have an account? ",Object(b.jsx)("button",{style:{border:"0"},onClick:function(){return e.login(!0)},children:"Log in"})]})]})})}var U=c(303),P=c(308),V=c(172);function H(e){var t=Object(n.useRef)(),c=Object(n.useRef)(),a=p(),s=a.login,r=a.currentUser,o=Object(n.useState)(""),l=Object(i.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)(!1),h=Object(i.a)(u,2),O=h[0],x=h[1],m=Object(v.g)();function C(){return(C=Object(w.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,j(""),x(!0),e.next=6,s(t.current.value,c.current.value);case 6:console.log("Logged in"),m.push("/home",r),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),j("Failed to log in"),x(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){r&&m.push("/")})),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(L.a,{style:{padding:"1.25rem 1.25rem"},children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Log in"}),d&&Object(b.jsx)(k.a,{variant:"danger",children:d}),Object(b.jsxs)(D.a,{onSubmit:function(e){return C.apply(this,arguments)},children:[Object(b.jsxs)(D.a.Group,{id:"email",children:[Object(b.jsx)(D.a.Label,{children:"Email"}),Object(b.jsx)(D.a.Control,{type:"email",ref:t,required:!0})]}),Object(b.jsxs)(D.a.Group,{id:"password",children:[Object(b.jsx)(D.a.Label,{children:"Password"}),Object(b.jsx)(D.a.Control,{type:"password",ref:c,required:!0})]}),Object(b.jsx)(N.a,{variant:"primary",disabled:O,type:"submit",className:"w-100",children:"Log in"})]}),Object(b.jsx)("div",{children:Object(b.jsx)(f.b,{to:"/forgot-password",children:"Forgot password?"})}),Object(b.jsxs)("div",{className:"w-100 text-center mt-2",children:["Don't have an account?"," ",Object(b.jsx)("button",{style:{border:"0"},onClick:function(){return e.login(!1)},children:"Sign up"})]})]})})})}var T=c(170),A=c.n(T),R=(c(114),c(46)),I=c.n(R);function W(e){var t=Object(v.g)(),c=p().currentUser,s=Object(n.useState)(0),r=Object(i.a)(s,2),o=r[0],l=r[1],d=Object(n.useState)(!0),j=Object(i.a)(d,2),u=j[0],h=j[1],O=a.a.useRef(null),x=a.a.useRef(null),f=Object(n.useState)(!1),m=Object(i.a)(f,2),g=m[0],w=m[1],C=Object(n.useRef)(null);c&&t.push("/home"),Object(n.useEffect)((function(){A.a.init({duration:750,once:!0}),O.current.value="First file ever!",x.current.value="This is the first file ever uploaded. like ever.",document.getElementById("App").classList.remove("openMargin"),document.getElementById("App").classList.remove("closeMargin")}),[]),console.log("render");return Object(b.jsxs)("div",{className:"bgimage",children:[!c&&Object(b.jsx)("header",{id:"introduction",children:Object(b.jsxs)("div",{className:"container1",children:[Object(b.jsxs)("div",{id:"left-title",children:[Object(b.jsx)("h1",{children:"File sharing"}),Object(b.jsx)("h1",{children:"Made easy."}),Object(b.jsx)("p",{children:"The quickiest and easiest way to share and download files"}),Object(b.jsx)("button",{id:"getStarted",onClick:function(){return t.push("/upload")},children:"Get started"})]}),Object(b.jsx)("div",{id:"right-container",children:Object(b.jsxs)("div",{className:"home-login-card",children:[u&&Object(b.jsx)(H,{login:h}),!u&&Object(b.jsx)(E,{login:h})]})})]})}),Object(b.jsx)("div",{className:"header section-2",children:Object(b.jsxs)("div",{className:"description-header second",children:[Object(b.jsxs)("div",{className:"description-header-title","data-aos":"fade-up",children:[Object(b.jsx)("h1",{children:"Select"}),Object(b.jsx)("p",{children:"Choose all the files you want, regardless of file ending"})]}),Object(b.jsxs)("div",{className:"icon","data-aos":"fade-up",children:[Object(b.jsxs)("div",{className:"upload-example-label first","data-aos-delay":"200","data-aos":"fade-right",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2.5rem",className:"ionicon",viewBox:"35 60 400 400",children:Object(b.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"})}),"smile.png"]}),Object(b.jsxs)("div",{className:"upload-example-label second","data-aos-delay":"400","data-aos":"fade-right",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2.5rem",className:"ionicon",viewBox:"35 60 400 400",children:Object(b.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"})}),"README.txt"]}),Object(b.jsxs)("div",{className:"upload-example-label third","data-aos-delay":"600","data-aos":"fade-right",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2.5rem",className:"ionicon",viewBox:"35 60 400 400",children:Object(b.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"})}),"main.java"]}),Object(b.jsxs)("div",{className:"upload-example-label fourth","data-aos-delay":"800","data-aos":"fade-right",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2.5rem",className:"ionicon",viewBox:"35 60 400 400",children:Object(b.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"})}),"icon.svg"]}),Object(b.jsxs)("div",{className:"upload-example-label fifth","data-aos-delay":"1000","data-aos":"fade-right",children:[Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2.5rem",className:"ionicon",viewBox:"35 60 400 400",children:Object(b.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"})}),"Screenshot_1.jpeg"]})]})]})}),Object(b.jsx)("div",{className:"header section-3",children:Object(b.jsxs)("div",{className:"description-header third",children:[Object(b.jsx)("div",{"data-aos":"fade-up","data-aos-delay":"300",children:Object(b.jsxs)("form",{className:"form-example",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{children:"Name:"}),Object(b.jsx)(D.a.Control,{type:"text",ref:O,disabled:!0})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{children:"Password:"}),Object(b.jsx)(D.a.Control,{placeholder:"Optional",disabled:!0})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{children:"Description: "}),Object(b.jsx)(D.a.Control,{type:"text",ref:x,placeholder:"Description",disabled:!0,as:"textarea",style:{resize:"none"}})]})]})}),Object(b.jsxs)("div",{className:"description-header-title","data-aos":"fade-up",children:[Object(b.jsx)("h1",{children:"Upload"}),Object(b.jsxs)("p",{children:["Add more info such as a description or a"," ",Object(b.jsx)(P.a,{placement:"right",overlay:function(e){return Object(b.jsx)(U.a,Object(M.a)(Object(M.a)({id:"button-tooltip"},e),{},{children:"Sign up or Login to access these features"}))},children:Object(b.jsx)("span",{children:"password"})})]})]})]})}),Object(b.jsx)("div",{className:"header section-4",children:Object(b.jsxs)("div",{className:"description-header right",children:[Object(b.jsxs)("div",{className:"description-header-title ","data-aos":"fade-up",children:[Object(b.jsx)("h1",{children:"Share"}),Object(b.jsx)("p",{children:"Copy and send the link to others for easy access"})]}),Object(b.jsx)("div",{className:"icon","data-aos":"fade-up","data-aos-delay":"300",children:Object(b.jsxs)("div",{className:"share",children:[Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)("a",{href:"/",children:Object(b.jsx)("span",{children:"".concat(window.location.host,"/12345678")})}),Object(b.jsx)("svg",{className:"svg-copy",viewBox:"0 0 20 20",ref:C,onClick:function(){w(!0),setTimeout((function(){w(!1)}),3e3)},children:Object(b.jsx)("path",{d:"M17.391,2.406H7.266c-0.232,0-0.422,0.19-0.422,0.422v3.797H3.047c-0.232,0-0.422,0.19-0.422,0.422v10.125c0,0.232,0.19,0.422,0.422,0.422h10.125c0.231,0,0.422-0.189,0.422-0.422v-3.797h3.797c0.232,0,0.422-0.19,0.422-0.422V2.828C17.812,2.596,17.623,2.406,17.391,2.406 M12.749,16.75h-9.28V7.469h3.375v5.484c0,0.231,0.19,0.422,0.422,0.422h5.483V16.75zM16.969,12.531H7.688V3.25h9.281V12.531z"})}),Object(b.jsx)(V.a,{target:C.current,show:g,placement:"right",children:function(e){return Object(b.jsx)(U.a,Object(M.a)(Object(M.a)({id:"overlay-example"},e),{},{children:"Copied to Clipboard"}))}})]}),Object(b.jsx)(I.a,{className:"m-5",value:"".concat(window.location.host,"/12345678")}),Object(b.jsx)(N.a,{size:"lg",children:"Upload more"})]})})]})}),Object(b.jsx)("div",{className:"upload-header",children:Object(b.jsx)("button",{className:"start-uploading-button",pressed:o,onClick:function(){l(1),setTimeout((function(){t.push("/upload")}),800)},children:"Start Uploading!"})})]})}var G=c(21),Z=c(52),q=c.n(Z),Y=c(171);function K(e){return Object(b.jsxs)("div",{className:"file-row-section",children:[Object(b.jsx)("div",{className:"fiv-viv fiv-icon-".concat(e.e.metadata.name.split(".")[1])}),Object(b.jsx)("div",{className:"",children:e.e.metadata.name}),Object(b.jsx)("div",{className:"file-row-size-label",children:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var c=1024,n=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(c));return String(parseFloat((e/Math.pow(c,s)).toFixed(n))+" "+a[s])}(e.e.metadata.size)}),Object(b.jsx)("svg",{title:"download",onClick:function(t){t.preventDefault(),fetch(e.e.fileUrl,{method:"GET"}).then((function(t){t.blob().then((function(t){Object(Y.saveAs)(t,e.e.metadata.name)}))}))},xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",children:Object(b.jsx)("path",{fill:"#1F1F23",d:"M16 11h5l-9 10-9-10h5v-11h8v11zm1 11h-10v2h10v-2z",children:Object(b.jsx)("title",{children:"Download"})})})]})}var _=c(173);function J(){var e=window.location.pathname.substring(1),t=Object(n.useState)(),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(n.useRef)(),l=p().currentUser,d=Object(v.g)(),h=Object(n.useState)(),O=Object(i.a)(h,2),x=O[0],f=O[1],m=Object(n.useState)([]),S=Object(i.a)(m,2),M=S[0],B=S[1],F=Object(n.useState)(!0),L=Object(i.a)(F,2),z=L[0],E=L[1],U=Object(n.useState)(),P=Object(i.a)(U,2),V=P[0],H=P[1],T=Object(n.useState)(""),A=Object(i.a)(T,2),R=A[0],I=A[1],W=Object(n.useCallback)(Object(w.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,u.links.doc(e).get().then(function(){var t=Object(w.a)(g.a.mark((function t(c){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c.exists){t.next=9;break}if(s(c.data().passwordProtected),f(c.data().password),H(c),!l){t.next=7;break}return t.next=7,u.users.doc(l.uid).collection("links").doc(e).update({totalViews:o.a.firestore.FieldValue.increment(1)});case 7:t.next=10;break;case 9:d.push("/");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:return t.next=5,j.ref().child(window.location.pathname+"/").list().then((function(e){console.log(e),e.items.forEach(function(){var e=Object(w.a)(g.a.mark((function e(t,c){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL().then((function(e){return e}));case 2:return e.t0=e.sent,e.next=5,t.getMetadata().then((function(e){return e}));case 5:e.t1=e.sent,e.t2=c,n={fileUrl:e.t0,metadata:e.t1,name:e.t2},B((function(e){return[].concat(Object(G.a)(e),[n]).sort((function(e,t){return e.name>t.name?1:-1}))}));case 9:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}())}));case 5:E(!1);case 6:case"end":return t.stop()}}),t)}))),[l,d,e]);function Z(){return(Z=Object(w.a)(g.a.mark((function e(t){var c,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c=M.map(function(){var e=Object(w.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.fileUrl,{method:"GET"}).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Object(_.a)(c).blob();case 4:n=e.sent,(a=document.createElement("a")).href=URL.createObjectURL(n),a.download=V.data().linkName,a.click(),a.remove();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!0===z&&W()}),[W,z]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(y,{}),!0===a&&Object(b.jsx)("div",{className:"password_form",children:Object(b.jsxs)(C.a,{children:[Object(b.jsx)(C.a.Header,{children:"Link is password protected"}),Object(b.jsxs)(C.a.Body,{children:[Object(b.jsxs)(D.a,{children:[R&&Object(b.jsx)(k.a,{variant:"danger",children:R}),Object(b.jsx)(D.a.Control,{ref:r,type:"password",placeholder:"Password"})]}),Object(b.jsx)("br",{}),Object(b.jsx)(N.a,{className:"w-100",onClick:function(e){e.preventDefault();var t=q()(r.current.value).toString();console.log("Button submit"),x===t?s(!1):I("Wrong password")},variant:"primary",children:"Enter"})]})]})}),!1===a&&!z&&Object(b.jsxs)("div",{className:"files-page",children:[Object(b.jsxs)("h1",{children:[V.data().linkName," ",Object(b.jsx)(N.a,{onClick:function(e){return Z.apply(this,arguments)},title:"Download all files as zip",children:"Download files"})]}),Object(b.jsx)("div",{className:"files-gap",children:M.map((function(e,t){return Object(b.jsx)(K,{e:e},t)}))})]})]})}var Q=c(305);function X(e){var t=Object(n.useRef)(),c=Object(n.useState)(!1),a=Object(i.a)(c,2),s=a[0],r=a[1],o=Object(n.useState)(0),l=Object(i.a)(o,2),d=l[0],j=l[1],h=Object(n.useState)(0),O=Object(i.a)(h,2),x=O[0],f=O[1],v=Object(n.useState)(e.doc.data().passwordProtected),m=Object(i.a)(v,2),C=m[0],k=m[1],y=Object(n.useRef)(),S=Object(n.useState)(!1),M=Object(i.a)(S,2),B=M[0],F=M[1],L=Object(n.useState)(!1),z=Object(i.a)(L,2),E=z[0],U=z[1],P=p().currentUser;function V(){U(!1)}function H(e){return T.apply(this,arguments)}function T(){return(T=Object(w.a)(g.a.mark((function t(c){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),!0!==C){t.next=10;break}return t.next=4,u.users.doc(P.uid).collection("links").doc(e.doc.id).update({passwordProtected:!1,password:0});case 4:return t.next=6,u.links.doc(e.doc.id).update({passwordProtected:!1,password:0});case 6:k((function(e){return!e})),V(),t.next=18;break;case 10:if(!1!==C||""===y.current.value){t.next=18;break}return n=q()(y.current.value).toString(),t.next=14,u.users.doc(P.uid).collection("links").doc(e.doc.id).update({passwordProtected:!0,password:n});case 14:return t.next=16,u.links.doc(e.doc.id).update({passwordProtected:!0,password:n});case 16:k((function(e){return!e})),V();case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(){U(!0)}function R(e){e.preventDefault(),A()}return Object(n.useEffect)((function(){j(e.selectAllBool)}),[e.selectAllBool]),Object(b.jsxs)("div",{children:[Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(Q.a,{show:E,onHide:V,backdrop:"static",keyboard:!1,children:[Object(b.jsx)(Q.a.Header,{closeButton:!0,children:Object(b.jsx)(Q.a.Title,{children:"Password"})}),C&&Object(b.jsx)(Q.a.Body,{children:"Remove your password"}),!C&&Object(b.jsxs)(Q.a.Body,{children:[Object(b.jsx)("span",{children:"Password:"}),Object(b.jsx)(D.a.Control,{type:B?"text":"password",placeholder:"Enter a password",ref:y,style:{margin:"0.75rem 0"}}),Object(b.jsx)(D.a.Check,{type:"checkbox",label:"Show password",name:"passwordCheckbox",onClick:function(){return F((function(e){return!e}))}})]}),Object(b.jsxs)(Q.a.Footer,{children:[Object(b.jsx)(N.a,{variant:"secondary",onClick:V,children:"Close"}),C&&Object(b.jsx)(N.a,{variant:"danger",onClick:H,children:"Remove password"}),!C&&Object(b.jsx)(N.a,{variant:"primary",onClick:H,children:"Set password"})]})]})}),Object(b.jsxs)("div",{className:"files-inner-item files-inner-header",children:[Object(b.jsx)("div",{className:"header-select",children:Object(b.jsx)("div",{ref:t,pressed:d,onClick:function(){return t=e.doc,void(1===d?(j(0),e.select((function(e){return e.filter((function(e){return e!==t.id}))}))):0===d&&(j(1),e.select((function(e){return[].concat(Object(G.a)(e),[t.id])}))));var t},className:"checkbox",children:Object(b.jsx)("svg",{focusable:"false",viewBox:"0 0 24 24",children:Object(b.jsx)("path",{strokeWidth:"3.4",d:"M4.1,12.7 9,17.6 20.3,6.3",fill:"none",stroke:d?"white":"none"})})})}),Object(b.jsxs)("div",{className:"grid6",onClick:function(e){e.preventDefault(),f(1===x?0:1)},children:[Object(b.jsx)("div",{className:"header-name",children:""===e.doc.data().linkName?e.doc.id:e.doc.data().linkName}),Object(b.jsx)("div",{className:"header-desc",children:""===e.doc.data().description?"-":e.doc.data().description}),Object(b.jsx)("div",{className:"header-date",children:e.doc.data().date}),Object(b.jsx)("div",{className:"header-size",children:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var c=1024,n=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(c));return String(parseFloat((e/Math.pow(c,s)).toFixed(n))+" "+a[s])}(e.doc.data().size)})]})]}),1===x&&Object(b.jsx)("div",{className:"more-div",more:x,children:Object(b.jsxs)("div",{className:"more-div-left",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Files"}),e.doc.data().numFiles]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Views"}),e.doc.data().totalViews]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Password"}),C&&Object(b.jsx)("svg",{className:"svg-locked",onClick:R,viewBox:"-2 -1 28 28",children:Object(b.jsx)("path",{d:"M18 10v-4c0-3.313-2.687-6-6-6s-6 2.687-6 6v4h-3v14h18v-14h-3zm-10-4c0-2.206 1.794-4 4-4s4 1.794 4 4v4h-8v-4zm11 16h-14v-10h14v10z",children:Object(b.jsx)("title",{children:"Click to remove password"})})}),!1===C&&Object(b.jsx)("svg",{className:"svg-locked",onClick:R,viewBox:"-2 -1 28 28",children:Object(b.jsx)("path",{d:"M8 10v-4c0-2.206 1.795-4 4-4s4 1.794 4 4v1h2v-1c0-3.313-2.687-6-6-6s-6 2.687-6 6v4h-3v14h18v-14h-13zm11 12h-14v-10h14v10z",children:Object(b.jsx)("title",{children:"Click to add password"})})})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:s?"Copied!":"Copy"}),Object(b.jsx)("svg",{className:"svg-copy",viewBox:"0 0 20 20",onClick:function(t){t.preventDefault(),r(!0),setTimeout((function(){r(!1)}),3e3),function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style={position:"absolute",left:"-9999px"},document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}("".concat(window.location.hostname,":3000/").concat(e.doc.id))},children:Object(b.jsx)("path",{d:"M17.391,2.406H7.266c-0.232,0-0.422,0.19-0.422,0.422v3.797H3.047c-0.232,0-0.422,0.19-0.422,0.422v10.125c0,0.232,0.19,0.422,0.422,0.422h10.125c0.231,0,0.422-0.189,0.422-0.422v-3.797h3.797c0.232,0,0.422-0.19,0.422-0.422V2.828C17.812,2.596,17.623,2.406,17.391,2.406 M12.749,16.75h-9.28V7.469h3.375v5.484c0,0.231,0.19,0.422,0.422,0.422h5.483V16.75zM16.969,12.531H7.688V3.25h9.281V12.531z"})})]}),Object(b.jsxs)("div",{className:"more-div-right",children:[Object(b.jsx)(I.a,{size:64,value:"".concat(window.location.hostname,"/").concat(e.doc.id)}),Object(b.jsxs)("a",{href:"/".concat(e.doc.id),target:"_blank",rel:"noopener noreferrer",children:[window.location.hostname,"/".concat(e.doc.id)]})]})]})})]})}var $=a.a.memo(X);function ee(){var e,t=Object(n.useState)([]),c=Object(i.a)(t,2),a=c[0],s=c[1],r=p().currentUser,l=Object(n.useState)(!0),d=Object(i.a)(l,2),h=d[0],O=d[1],x=u.users.doc(r.uid).collection("links"),f=Object(n.useState)([]),v=Object(i.a)(f,2),m=v[0],C=v[1],k=Object(n.useState)(0),S=Object(i.a)(k,2),M=S[0],B=S[1],F=Object(n.useState)([0,0,0]),L=Object(i.a)(F,2),D=L[0],z=L[1],E=Object(n.useState)("descending"),U=Object(i.a)(E,2),P=U[0],V=U[1],H=Object(n.useState)("ascending"),T=Object(i.a)(H,2),A=T[0],R=T[1],I=Object(n.useState)("ascending"),W=Object(i.a)(I,2),Z=W[0],q=W[1],Y=Object(n.useState)(0),K=Object(i.a)(Y,2),_=K[0],J=K[1];function Q(){return(Q=Object(w.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get().then((function(e){var t=e.docs.sort((function(e,t){return t.data().preciseDate.toDate()-e.data().preciseDate.toDate()}));s(Object(G.a)(t))}));case 2:O(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){console.log("Deleted"),m.forEach(function(){var e=Object(w.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.doc(t).delete();case 2:return e.next=4,u.links.doc(t).delete();case 4:u.users.doc(r.uid).update({linksCreated:o.a.firestore.FieldValue.increment(-1),totalFileSize:o.a.firestore.FieldValue.increment(-a.filter((function(e){return e.id===t}))[0].data().size)}),j.ref("".concat(t)).list().then((function(e){e.items.forEach((function(e){j.ref(e.fullPath).delete()}))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s((function(e){return e.filter((function(e){return!m.includes(e.id)}))})),C([])}return Object(n.useEffect)((function(){!0===h&&function(){Q.apply(this,arguments)}()}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(y,{}),Object(b.jsxs)("div",{className:"files-page",children:[Object(b.jsxs)("h1",{children:[Object(b.jsx)("span",{children:"Files"}),m.length>0&&Object(b.jsxs)(b.Fragment,{children:[window.innerWidth>=1920&&Object(b.jsx)(N.a,{variant:"dark",onMouseDown:function(t){t.preventDefault(),e=setTimeout((function(){console.log("pretend delete"),X()}),1100)},onMouseUp:function(){clearTimeout(e)},className:"delete-all",children:Object(b.jsx)("span",{children:"Hold to delete"})}),window.innerWidth<1920&&Object(b.jsx)(N.a,{variant:"dark",onClick:X,children:Object(b.jsx)("span",{children:"Delete"})})]})]}),Object(b.jsxs)("div",{className:"files-container",children:[Object(b.jsxs)("div",{className:"files-inner-header",children:[Object(b.jsx)("div",{className:"header-select",children:Object(b.jsx)("div",{className:"checkbox",onClick:function(e){e.preventDefault(),0===M?(B(1),J(1),C(a.map((function(e){return e.id})))):(J(0),B(0),C([]))},pressed:_,children:Object(b.jsx)("svg",{focusable:"false",viewBox:"0 0 24 24",children:Object(b.jsx)("path",{strokeWidth:"3.4",d:"M4.1,12.7 9,17.6 20.3,6.3",fill:"none",stroke:M?"white":"#F6F7F9"})})})}),Object(b.jsxs)("div",{className:"header-name",onClick:function(e){if(e.preventDefault(),"descending"===A){var t=a.sort((function(e,t){return e.id>t.id?1:-1}));s(Object(G.a)(t)),R("ascending"),z([1,0,0])}else{var c=a.sort((function(e,t){return e.id>t.id?-1:1}));s(Object(G.a)(c)),R("descending"),z([0,0,0])}},children:["Name",Object(b.jsx)("svg",{className:"svg-up",orientation:D[0],viewBox:"0 0 20 20",children:Object(b.jsx)("path",{fill:"none",d:"M11.611,10.049l-4.76-4.873c-0.303-0.31-0.297-0.804,0.012-1.105c0.309-0.304,0.803-0.293,1.105,0.012l5.306,5.433c0.304,0.31,0.296,0.805-0.012,1.105L7.83,15.928c-0.152,0.148-0.35,0.223-0.547,0.223c-0.203,0-0.406-0.08-0.559-0.236c-0.303-0.309-0.295-0.803,0.012-1.104L11.611,10.049z"})})]}),Object(b.jsx)("div",{className:"header-desc",children:"Description"}),Object(b.jsxs)("div",{className:"header-date",onClick:function(e){if(e.preventDefault(),"ascending"===P){var t=a.sort((function(e,t){return e.data().preciseDate.toDate()-t.data().preciseDate.toDate()}));s(Object(G.a)(t)),V("descending"),z([0,1,0])}else{var c=a.sort((function(e,t){return t.data().preciseDate.toDate()-e.data().preciseDate.toDate()}));s(Object(G.a)(c)),V("ascending"),z([0,0,0])}},children:["Date Created",Object(b.jsx)("svg",{className:"svg-up",orientation:D[1],viewBox:"0 0 20 20",children:Object(b.jsx)("path",{fill:"none",d:"M11.611,10.049l-4.76-4.873c-0.303-0.31-0.297-0.804,0.012-1.105c0.309-0.304,0.803-0.293,1.105,0.012l5.306,5.433c0.304,0.31,0.296,0.805-0.012,1.105L7.83,15.928c-0.152,0.148-0.35,0.223-0.547,0.223c-0.203,0-0.406-0.08-0.559-0.236c-0.303-0.309-0.295-0.803,0.012-1.104L11.611,10.049z"})})]}),Object(b.jsxs)("div",{className:"header-size",onClick:function(e){if(e.preventDefault(),"ascending"===Z){var t=a.sort((function(e,t){return e.data().size-t.data().size}));s(Object(G.a)(t)),q("descending"),z([0,0,1])}else{var c=a.sort((function(e,t){return t.data().size-e.data().size}));s(Object(G.a)(c)),q("ascending"),z([0,0,0])}},children:["Size",Object(b.jsx)("svg",{className:"svg-up",orientation:D[2],viewBox:"0 0 20 20",children:Object(b.jsx)("path",{fill:"none",d:"M11.611,10.049l-4.76-4.873c-0.303-0.31-0.297-0.804,0.012-1.105c0.309-0.304,0.803-0.293,1.105,0.012l5.306,5.433c0.304,0.31,0.296,0.805-0.012,1.105L7.83,15.928c-0.152,0.148-0.35,0.223-0.547,0.223c-0.203,0-0.406-0.08-0.559-0.236c-0.303-0.309-0.295-0.803,0.012-1.104L11.611,10.049z"})})]})]}),Object(b.jsx)("div",{style:{minHeight:"80vh"},children:a.length>0&&Object(G.a)(a).map((function(e,t){return Object(b.jsx)($,{doc:e,select:C,selectAllBool:M},e.id)}))})]})]})]})}function te(e){return Object(b.jsx)("div",{className:"footer",children:Object(b.jsxs)("div",{className:"footer-table",children:[Object(b.jsx)("a",{href:"/",children:"Home"}),Object(b.jsx)("a",{href:"/upload",children:"Upload "}),Object(b.jsx)("a",{href:"/contact",children:"Contact"}),Object(b.jsx)("a",{href:"/login",children:"Sign in / Sign up"}),Object(b.jsx)("a",{href:"/files",children:"My files"}),Object(b.jsx)("a",{href:"https://github.com/allendai1/Plentifile",children:Object(b.jsx)("svg",{viewBox:"0 0 256 250",preserveAspectRatio:"xMidYMid",children:Object(b.jsx)("g",{children:Object(b.jsx)("path",{d:"M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z",fill:"#161614"})})})})]})})}var ce=c(82);function ne(){var e=Object(v.h)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}function ae(){var e=j,t=Object(n.useState)(!1),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)([]),l=Object(i.a)(r,2),d=l[0],h=l[1],O=Object(n.useRef)("test"),x=Object(n.useRef)(null),f=p().currentUser,v=Object(n.useState)(!1),m=Object(i.a)(v,2),C=m[0],k=m[1],y=Object(n.useState)(0),S=Object(i.a)(y,2),M=S[0],B=S[1],F=Object(n.useState)(1),L=Object(i.a)(F,2),z=L[0],E=L[1],U=Object(n.useState)(0),P=Object(i.a)(U,2),V=P[0],H=P[1],T=Object(n.useRef)(),A=Object(n.useState)(0),R=Object(i.a)(A,2),W=R[0],Z=R[1];function Y(){return K.apply(this,arguments)}function K(){return(K=Object(w.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(ce.uid)(8),e.next=3,u.links.doc(t).get().then((function(e){return e}));case 3:if(!e.sent.exists){e.next=10;break}return e.next=7,Y();case 7:return e.abrupt("return",e.sent);case 10:return B(t),e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(){var t=Object(w.a)(g.a.mark((function t(c){var n,a,s,r,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),n=[x.current.value,T.current.value,O.current.value],a=n[0],s=n[1],r=n[2],E(4),t.next=5,Y();case 5:return i=t.sent,t.next=8,Promise.all(Array.from(d).map(function(){var t=Object(w.a)(g.a.mark((function t(c){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ref(i).child(c.name),t.next=3,n.put(c,{contentDisposition:"attachment"}).then((function(){var e=new Date,t=e.getUTCMonth()+1+"/"+e.getUTCDate()+"/"+e.getUTCFullYear();u.links.doc(i).set({date:t,preciseDate:o.a.firestore.FieldValue.serverTimestamp(),linkName:a||i,description:s||"",totalViews:0,size:W,numFiles:d.length,fileTypes:d.map((function(e){return e.type})),passwordProtected:!!r,password:r?q()(r).toString():0}),u.users.doc(f.uid).collection("links").doc(i).set({date:t,preciseDate:o.a.firestore.FieldValue.serverTimestamp(),linkName:a||i,description:s||"",totalViews:0,size:W,numFiles:d.length,fileTypes:d.map((function(e){return e.type})),passwordProtected:!!r,password:r?q()(r).toString():0})}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 8:if(!f){t.next=11;break}return t.next=11,u.users.doc(f.uid).update({linksCreated:o.a.firestore.FieldValue.increment(1),totalFileSize:o.a.firestore.FieldValue.increment(W),lastUploaded:i});case 11:k(!0),E(3);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ne,{}),Object(b.jsxs)("div",{className:"outer-card",children:[1===z&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"files-list",children:Object(b.jsx)("div",{className:"files-list-div",children:Array.from(d).map((function(e,t){return Object(b.jsxs)("div",{children:[Object(b.jsx)("svg",{onClick:function(){return function(e){h((function(t){return t.filter((function(t){return e!==t}))})),Z((function(t){return t-e.size}))}(e)},xmlns:"http://www.w3.org/2000/svg",width:"1.5rem",className:"ionicon",viewBox:"35 100 400 400",children:Object(b.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"})}),e.name]},t)}))})}),Object(b.jsxs)("form",{className:"uploadForm",children:[Object(b.jsx)("input",{type:"file",name:"file",id:"file",className:"inputfile",onChange:function(e){var t=e.target.files;Z(Object.values(t).reduce((function(e,t){return e+t.size}),0)),h((function(e){var c=new Set;return[].concat(Object(G.a)(e),Object(G.a)(t)).filter((function(e){var t=c.has(e.name);return c.add(e.name),!t}))}))},multiple:!0},V),Object(b.jsx)("label",{className:"uploadButton",htmlFor:"file",children:"Select Files"})]}),Object(b.jsx)("button",{className:"clear-button",onClick:function(){H((function(e){return e+1})),h([]),Z(0)},children:"Clear"}),Object(b.jsx)("div",{className:"next-button",onClick:function(){d.length>0&&E(2)},children:"Next"})]}),2===z&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("form",{className:"metadataForm",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{children:"Name: "}),Object(b.jsx)(D.a.Control,{type:"text",placeholder:"Optional",ref:x})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{children:"Password:"}),Object(b.jsx)(D.a.Control,{type:a?"text":"password",placeholder:"Optional",ref:O}),Object(b.jsx)(D.a.Check,{type:"checkbox",label:"Show password",name:"passwordCheckbox",onClick:function(){return s((function(e){return!e}))}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{children:"Description: "}),Object(b.jsx)(D.a.Control,{type:"text",placeholder:"Optional",ref:T})]})]}),Object(b.jsx)("div",{className:"submitform-button",onClick:_,children:"Finish Upload"}),Object(b.jsx)("button",{className:"back-button",onClick:function(){return E(1)},children:"Go back"})]}),3===z&&Object(b.jsx)("div",{className:"card-container",children:C&&Object(b.jsxs)("div",{className:"share",children:[Object(b.jsxs)("div",{className:"share-link",children:[Object(b.jsx)("a",{href:"/".concat(M),children:"".concat(window.location.host,"/").concat(M)}),Object(b.jsx)("svg",{className:"svg-copy",viewBox:"0 0 20 20",onClick:function(e){e.preventDefault(),console.log("pressed"),function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style={position:"absolute",left:"-9999px"},document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}("".concat(window.location.hostname,":3000/").concat(M))},children:Object(b.jsx)("path",{d:"M17.391,2.406H7.266c-0.232,0-0.422,0.19-0.422,0.422v3.797H3.047c-0.232,0-0.422,0.19-0.422,0.422v10.125c0,0.232,0.19,0.422,0.422,0.422h10.125c0.231,0,0.422-0.189,0.422-0.422v-3.797h3.797c0.232,0,0.422-0.19,0.422-0.422V2.828C17.812,2.596,17.623,2.406,17.391,2.406 M12.749,16.75h-9.28V7.469h3.375v5.484c0,0.231,0.19,0.422,0.422,0.422h5.483V16.75zM16.969,12.531H7.688V3.25h9.281V12.531z"})})]}),Object(b.jsx)(I.a,{className:"m-5",level:"H",size:window.innerWidth<=1920?258:.133*window.innerWidth,value:"".concat(window.location.host,"/").concat(M)}),Object(b.jsx)(N.a,{size:"lg",onClick:function(e){e.preventDefault(),E(1),h([]),Z(0)},children:"Upload more"})]})}),4===z&&Object(b.jsx)("div",{className:"load-container",children:Object(b.jsxs)("div",{className:"lds-facebook",children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]})})]})]})}function se(){var e=p().currentUser,t=Object(n.useState)(0),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(0),o=Object(i.a)(r,2),l=o[0],d=o[1],j=Object(n.useState)(0),h=Object(i.a)(j,2),O=h[0],x=h[1],f=Object(n.useState)(0),v=Object(i.a)(f,2),m=v[0],g=v[1];return Object(n.useEffect)((function(){u.users.doc(e.uid).get().then((function(e){e&&(s(e.data().totalFileSize),d(e.data().linksCreated),x(e.data().lastUploaded))})).catch((function(){console.log("Could not fetch currentUser document")})),u.users.doc(e.uid).collection("links").get().then((function(e){g(e.docs.reduce((function(e,t){return e+t.data().totalViews}),0))})).catch((function(){console.log("Could not fetch total views")}))}),[e.uid]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(y,{}),Object(b.jsxs)("div",{className:"home-page",children:[Object(b.jsx)("h1",{children:e.email}),Object(b.jsxs)("div",{className:"nav-panel",children:[Object(b.jsxs)("div",{className:"nav-panel-item",children:[Object(b.jsx)("div",{className:"nav-panel-item-header",children:"Links Created"}),Object(b.jsx)("span",{children:l})]}),Object(b.jsxs)("div",{className:"nav-panel-item",children:[Object(b.jsx)("div",{className:"nav-panel-item-header",children:"Storage"}),Object(b.jsx)("span",{children:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var c=1024,n=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(c));return String(parseFloat((e/Math.pow(c,s)).toFixed(n))+" "+a[s])}(a)})]}),Object(b.jsxs)("div",{className:"nav-panel-item",children:[Object(b.jsx)("div",{className:"nav-panel-item-header",children:"Views"}),Object(b.jsx)("span",{children:m})]}),Object(b.jsxs)("div",{className:"nav-panel-item",children:[Object(b.jsx)("div",{className:"nav-panel-item-header",children:"Last uploaded"}),Object(b.jsx)("span",{children:O})]})]}),Object(b.jsx)("div",{className:"nav-panel-big-card",children:Object(b.jsx)("div",{className:"nav-panel-upload-card",id:"upload-card",children:Object(b.jsx)(ae,{})})})]})]})}function re(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(y,{}),Object(b.jsx)("div",{className:"contact-page",children:Object(b.jsxs)("div",{className:"contact-container",children:[Object(b.jsx)("h1",{children:"Contact information"}),Object(b.jsx)("h3",{children:"Email : allendai1@hotmail.com"})]})})]})}var ie=c(304);function oe(){var e=j,t=Object(v.g)(),c=Object(n.useState)(!1),a=Object(i.a)(c,2),s=a[0],r=a[1],l=Object(n.useState)([]),d=Object(i.a)(l,2),h=d[0],O=d[1],x=Object(n.useState)(!1),f=Object(i.a)(x,2),m=f[0],C=f[1],k=Object(n.useState)(0),y=Object(i.a)(k,2),S=y[0],M=y[1],B=Object(n.useState)(!1),F=Object(i.a)(B,2),L=F[0],D=F[1],z=Object(n.useState)(1),E=Object(i.a)(z,2),U=E[0],P=E[1],V=Object(n.useState)(0),H=Object(i.a)(V,2),T=H[0],A=H[1];function R(){return W.apply(this,arguments)}function W(){return(W=Object(w.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(ce.uid)(8),e.next=3,u.links.doc(t).get().then((function(e){return e}));case 3:if(!e.sent.exists){e.next=10;break}return e.next=7,R();case 7:return e.abrupt("return",e.sent);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(w.a)(g.a.mark((function t(c){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),!(h.length>0)){t.next=14;break}return D(!0),P(0),t.next=6,R();case 6:return n=t.sent,M(n),t.next=10,Promise.all(Array.from(h).map(function(){var t=Object(w.a)(g.a.mark((function t(c){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.ref(n).child(c.name),t.next=3,a.put(c,{contentDisposition:"attachment"}).then((function(){var e=new Date,t=e.getUTCMonth()+1+"/"+e.getUTCDate()+"/"+e.getUTCFullYear();u.links.doc(n).set({date:t,preciseDate:o.a.firestore.FieldValue.serverTimestamp(),linkName:n,description:"",totalViews:0,size:T,numFiles:h.length,fileTypes:h.map((function(e){return e.type})),passwordProtected:!1,password:0})}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 10:C(!0),P(3),O([]),D(!1);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return p().currentUser&&t.push("/home"),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ne,{}),Object(b.jsxs)(ie.a,{style:{padding:"3rem 2rem"},children:[Object(b.jsx)("h1",{children:"Want more features?"}),Object(b.jsxs)("p",{children:["Sign up to access additional features, such as",Object(b.jsx)("br",{}),"- Custom name and descriptions",Object(b.jsx)("br",{}),"- Password protected links",Object(b.jsx)("br",{}),"- Multiple file uploads",Object(b.jsx)("br",{}),"- Saved links"]}),Object(b.jsx)("p",{children:Object(b.jsx)(N.a,{onClick:function(){return t.push("/")},variant:"primary",children:"Sign up"})})]}),Object(b.jsxs)("div",{className:"restricted-upload-page",children:[U>0&&h.length>0&&h[0].name,1===U&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("form",{children:[Object(b.jsx)("input",{type:"file",name:"file",id:"file",className:"inputfile",onChange:function(e){var t=e.target.files;A(Object.values(t).reduce((function(e,t){return e+t.size}),0)),O((function(e){var c=new Set;return[].concat(Object(G.a)(e),Object(G.a)(t)).filter((function(e){var t=c.has(e.name);return c.add(e.name),!t}))})),r(!0)}}),Object(b.jsx)("label",{htmlFor:"file",className:"select-files",children:"Select files"})]}),Object(b.jsx)(N.a,{variant:"dark",onClick:function(e){return Z.apply(this,arguments)},disabled:!s||"",children:"Upload"})]}),L&&Object(b.jsxs)("div",{class:"lds-ring",children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]}),3===U&&Object(b.jsxs)("div",{className:"restricted-share",children:[m&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(I.a,{value:"".concat(window.location.host,"/").concat(S)}),Object(b.jsx)("a",{href:"/".concat(S),children:"".concat(window.location.host,"/").concat(S)})]}),Object(b.jsx)(N.a,{variant:"dark",onClick:function(e){e.preventDefault(),P(1),O([]),A(0)},children:"Upload more"})]})]})]})}function le(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{id:"App",children:Object(b.jsx)(f.a,{children:Object(b.jsx)(x,{children:Object(b.jsxs)(v.d,{children:[Object(b.jsx)(v.b,{exact:!0,path:"/",children:Object(b.jsx)(W,{})}),Object(b.jsx)(v.b,{path:"/forgot-password",component:z}),Object(b.jsx)(v.b,{path:"/upload",component:oe}),Object(b.jsx)(F,{path:"/home",component:se}),Object(b.jsx)(F,{path:"/files",component:ee}),Object(b.jsx)(F,{path:"/settings",component:S}),Object(b.jsx)(v.b,{path:"/contact",component:re}),Object(b.jsx)(v.b,{path:"/",component:J})]})})})}),Object(b.jsx)(te,{})]})}var de=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,309)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};c(292);r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(le,{})}),document.getElementById("root")),de()},62:function(e,t,c){}},[[293,1,2]]]);