(this.webpackJsonpproject1=this.webpackJsonpproject1||[]).push([[0],{177:function(e,t,c){},192:function(e,t){},194:function(e,t){},205:function(e,t){},207:function(e,t){},234:function(e,t){},236:function(e,t){},237:function(e,t){},242:function(e,t){},244:function(e,t){},263:function(e,t){},275:function(e,t){},278:function(e,t){},291:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(34),r=c.n(s),i=(c(177),c(4)),o=c(28),l=(c(178),c(292),c(293),o.a.initializeApp({apiKey:"AIzaSyBJcWLVSwtWhLSbyU4M20KPekKlQNv8T_s",authDomain:"project-dev-dc145.firebaseapp.com",projectId:"project-dev-dc145",storageBucket:"project-dev-dc145.appspot.com",messagingSenderId:"938359657242",appId:"1:938359657242:web:ab126482950d0e3afb52a3"})),d=l.firestore(),j=l.storage(),u={users:d.collection("users"),links:d.collection("links")},b=l.auth(),h=c(1),O=a.a.createContext();function p(){return Object(n.useContext)(O)}function x(e){var t=e.children,c=Object(n.useState)(),a=Object(i.a)(c,2),s=a[0],r=a[1],o=Object(n.useState)(!0),l=Object(i.a)(o,2),d=l[0],j=l[1];Object(n.useEffect)((function(){return b.onAuthStateChanged((function(e){r(e),j(!1)}))}),[]);var u={currentUser:s,login:function(e,t){return b.signInWithEmailAndPassword(e,t)},signup:function(e,t){return b.createUserWithEmailAndPassword(e,t)},logout:function(){return b.signOut()},resetPassword:function(e){return b.sendPasswordResetEmail(e)},updateEmail:function(e){return s.updateEmail(e)},updatePassword:function(e){return s.updatePassword(e)}};return Object(h.jsx)(O.Provider,{value:u,children:!d&&t})}var f=c(27),m=c(16),v=c(6),g=c.n(v),w=c(15),C=c(306),k=c(298),N=c(299);c(61);var y=function(e){var t=Object(m.g)(),c=p(),n=c.currentUser,a=c.logout;function s(){return r.apply(this,arguments)}function r(){return(r=Object(w.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a();case 3:t.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("error");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return document.getElementById("App").classList.add("closeMargin"),Object(h.jsxs)("div",{id:"mySidenav",className:"sidenav closeNav",children:[Object(h.jsx)("div",{className:"logo",children:Object(h.jsxs)("svg",{width:"47",height:"60",viewBox:"0 0 47 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(h.jsx)("rect",{x:"1.62933",y:"5.62933",width:"43",height:"43",fill:"#1F1F23",stroke:"white","stroke-width":"3"}),Object(h.jsx)("path",{d:"M32.03 26.996L33.509 27.257C33.5477 27.257 33.6057 27.2667 33.683 27.286C33.7797 27.286 33.8473 27.2473 33.886 27.17C34.0793 26.88 34.2243 26.532 34.321 26.126C35.0363 23.864 35.684 22.2787 36.264 21.37C36.8633 20.4613 37.6077 20.007 38.497 20.007C38.9417 20.007 39.3283 20.1327 39.657 20.384C39.9857 20.6353 40.15 20.9543 40.15 21.341C40.15 22.269 39.8503 22.733 39.251 22.733C39.0577 22.733 38.961 22.675 38.961 22.559C39.1157 22.2303 39.193 21.8147 39.193 21.312C39.193 20.79 39.048 20.529 38.758 20.529C38.1587 20.529 37.4433 21.3603 36.612 23.023C36.4767 23.2937 36.206 23.98 35.8 25.082C35.4133 26.1647 35.22 26.764 35.22 26.88C35.22 27.0733 35.3457 27.17 35.597 27.17L39.28 27.083C39.338 27.083 39.367 27.1217 39.367 27.199C36.7377 28.1077 35.1233 28.6297 34.524 28.765C34.524 28.9003 34.2147 29.8863 33.596 31.723C32.2427 36.305 30.8603 39.611 29.449 41.641C28.0377 43.671 26.462 44.686 24.722 44.686C23.8907 44.686 23.127 44.396 22.431 43.816C21.735 43.236 21.387 42.4433 21.387 41.438C21.387 41.322 21.4257 41.264 21.503 41.264C21.561 41.264 21.619 41.3703 21.677 41.583C22.1023 43.0523 23.0497 43.787 24.519 43.787C26.5877 43.787 28.6177 41.351 30.609 36.479C30.957 35.609 31.4017 34.362 31.943 32.738C32.5037 31.114 32.9483 29.8283 33.277 28.881C32.349 28.6297 31.885 28.0883 31.885 27.257C31.885 27.083 31.9333 26.996 32.03 26.996Z",fill:"#7692FF"}),Object(h.jsx)("path",{d:"M11.8945 43H7.68359V11.5254H16.2773C17.9388 11.5254 19.4785 11.7402 20.8965 12.1699C22.3288 12.5853 23.5677 13.2012 24.6133 14.0176C25.6732 14.834 26.5039 15.8509 27.1055 17.0684C27.707 18.2715 28.0078 19.668 28.0078 21.2578C28.0078 22.3893 27.8574 23.4421 27.5566 24.416C27.2559 25.3757 26.8333 26.2493 26.2891 27.0371C25.7591 27.8249 25.1361 28.5267 24.4199 29.1426C23.7038 29.7441 22.9303 30.2526 22.0996 30.668C21.2689 31.0833 20.4023 31.3984 19.5 31.6133C18.5977 31.8281 17.6953 31.9355 16.793 31.9355C16.6211 31.9355 16.4349 31.9355 16.2344 31.9355C16.0339 31.9212 15.7904 31.8926 15.5039 31.8496L15.8047 28.627C16.0625 28.6699 16.2845 28.6986 16.4707 28.7129C16.6569 28.7129 16.8431 28.7129 17.0293 28.7129C17.946 28.7129 18.8053 28.5768 19.6074 28.3047C20.4238 28.0182 21.1328 27.5885 21.7344 27.0156C22.3503 26.4427 22.8301 25.7266 23.1738 24.8672C23.5319 23.9935 23.7109 22.9622 23.7109 21.7734C23.7109 20.556 23.5176 19.5104 23.1309 18.6367C22.7585 17.763 22.2142 17.0469 21.498 16.4883C20.7962 15.9297 19.9297 15.5215 18.8984 15.2637C17.8815 14.9915 16.7357 14.8555 15.4609 14.8555H11.8945V43Z",fill:"#7692FF"})]})}),Object(h.jsxs)("div",{className:"h-flex",children:[Object(h.jsx)("svg",{className:"svg-home",viewBox:"0 0 20 20",onClick:function(){n?t.push("/home"):t.push("/")},children:Object(h.jsx)("path",{d:"M18.121,9.88l-7.832-7.836c-0.155-0.158-0.428-0.155-0.584,0L1.842,9.913c-0.262,0.263-0.073,0.705,0.292,0.705h2.069v7.042c0,0.227,0.187,0.414,0.414,0.414h3.725c0.228,0,0.414-0.188,0.414-0.414v-3.313h2.483v3.313c0,0.227,0.187,0.414,0.413,0.414h3.726c0.229,0,0.414-0.188,0.414-0.414v-7.042h2.068h0.004C18.331,10.617,18.389,10.146,18.121,9.88 M14.963,17.245h-2.896v-3.313c0-0.229-0.186-0.415-0.414-0.415H8.342c-0.228,0-0.414,0.187-0.414,0.415v3.313H5.032v-6.628h9.931V17.245z M3.133,9.79l6.864-6.868l6.867,6.868H3.133z"})}),Object(h.jsx)("a",{href:n?"/home":"/",children:"Home"})]}),n&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"h-flex",children:[Object(h.jsx)("svg",{className:"svg-files",viewBox:"0 0 20 20",onClick:function(){t.push("/files")},children:Object(h.jsx)("path",{d:"M17.927,5.828h-4.41l-1.929-1.961c-0.078-0.079-0.186-0.125-0.297-0.125H4.159c-0.229,0-0.417,0.188-0.417,0.417v1.669H2.073c-0.229,0-0.417,0.188-0.417,0.417v9.596c0,0.229,0.188,0.417,0.417,0.417h15.854c0.229,0,0.417-0.188,0.417-0.417V6.245C18.344,6.016,18.156,5.828,17.927,5.828 M4.577,4.577h6.539l1.231,1.251h-7.77V4.577z M17.51,15.424H2.491V6.663H17.51V15.424z"})}),Object(h.jsx)("a",{href:"/files",children:"My Files"})]}),Object(h.jsxs)("div",{className:"h-flex",children:[Object(h.jsx)("svg",{className:"svg-settings",viewBox:"0 0 20 20",onClick:function(){t.push("/settings")},children:Object(h.jsx)("path",{d:"M17.498,11.697c-0.453-0.453-0.704-1.055-0.704-1.697c0-0.642,0.251-1.244,0.704-1.697c0.069-0.071,0.15-0.141,0.257-0.22c0.127-0.097,0.181-0.262,0.137-0.417c-0.164-0.558-0.388-1.093-0.662-1.597c-0.075-0.141-0.231-0.22-0.391-0.199c-0.13,0.02-0.238,0.027-0.336,0.027c-1.325,0-2.401-1.076-2.401-2.4c0-0.099,0.008-0.207,0.027-0.336c0.021-0.158-0.059-0.316-0.199-0.391c-0.503-0.274-1.039-0.498-1.597-0.662c-0.154-0.044-0.32,0.01-0.416,0.137c-0.079,0.106-0.148,0.188-0.22,0.257C11.244,2.956,10.643,3.207,10,3.207c-0.642,0-1.244-0.25-1.697-0.704c-0.071-0.069-0.141-0.15-0.22-0.257C7.987,2.119,7.821,2.065,7.667,2.109C7.109,2.275,6.571,2.497,6.07,2.771C5.929,2.846,5.85,3.004,5.871,3.162c0.02,0.129,0.027,0.237,0.027,0.336c0,1.325-1.076,2.4-2.401,2.4c-0.098,0-0.206-0.007-0.335-0.027C3.001,5.851,2.845,5.929,2.77,6.07C2.496,6.572,2.274,7.109,2.108,7.667c-0.044,0.154,0.01,0.32,0.137,0.417c0.106,0.079,0.187,0.148,0.256,0.22c0.938,0.936,0.938,2.458,0,3.394c-0.069,0.072-0.15,0.141-0.256,0.221c-0.127,0.096-0.181,0.262-0.137,0.416c0.166,0.557,0.388,1.096,0.662,1.596c0.075,0.143,0.231,0.221,0.392,0.199c0.129-0.02,0.237-0.027,0.335-0.027c1.325,0,2.401,1.076,2.401,2.402c0,0.098-0.007,0.205-0.027,0.334C5.85,16.996,5.929,17.154,6.07,17.23c0.501,0.273,1.04,0.496,1.597,0.66c0.154,0.047,0.32-0.008,0.417-0.137c0.079-0.105,0.148-0.186,0.22-0.256c0.454-0.453,1.055-0.703,1.697-0.703c0.643,0,1.244,0.25,1.697,0.703c0.071,0.07,0.141,0.15,0.22,0.256c0.073,0.098,0.188,0.152,0.307,0.152c0.036,0,0.073-0.004,0.109-0.016c0.558-0.164,1.096-0.387,1.597-0.66c0.141-0.076,0.22-0.234,0.199-0.393c-0.02-0.129-0.027-0.236-0.027-0.334c0-1.326,1.076-2.402,2.401-2.402c0.098,0,0.206,0.008,0.336,0.027c0.159,0.021,0.315-0.057,0.391-0.199c0.274-0.5,0.496-1.039,0.662-1.596c0.044-0.154-0.01-0.32-0.137-0.416C17.648,11.838,17.567,11.77,17.498,11.697 M16.671,13.334c-0.059-0.002-0.114-0.002-0.168-0.002c-1.749,0-3.173,1.422-3.173,3.172c0,0.053,0.002,0.109,0.004,0.166c-0.312,0.158-0.64,0.295-0.976,0.406c-0.039-0.045-0.077-0.086-0.115-0.123c-0.601-0.6-1.396-0.93-2.243-0.93s-1.643,0.33-2.243,0.93c-0.039,0.037-0.077,0.078-0.116,0.123c-0.336-0.111-0.664-0.248-0.976-0.406c0.002-0.057,0.004-0.113,0.004-0.166c0-1.75-1.423-3.172-3.172-3.172c-0.054,0-0.11,0-0.168,0.002c-0.158-0.312-0.293-0.639-0.405-0.975c0.044-0.039,0.085-0.078,0.124-0.115c1.236-1.236,1.236-3.25,0-4.486C3.009,7.719,2.969,7.68,2.924,7.642c0.112-0.336,0.247-0.664,0.405-0.976C3.387,6.668,3.443,6.67,3.497,6.67c1.75,0,3.172-1.423,3.172-3.172c0-0.054-0.002-0.11-0.004-0.168c0.312-0.158,0.64-0.293,0.976-0.405C7.68,2.969,7.719,3.01,7.757,3.048c0.6,0.6,1.396,0.93,2.243,0.93s1.643-0.33,2.243-0.93c0.038-0.039,0.076-0.079,0.115-0.123c0.336,0.112,0.663,0.247,0.976,0.405c-0.002,0.058-0.004,0.114-0.004,0.168c0,1.749,1.424,3.172,3.173,3.172c0.054,0,0.109-0.002,0.168-0.004c0.158,0.312,0.293,0.64,0.405,0.976c-0.045,0.038-0.086,0.077-0.124,0.116c-0.6,0.6-0.93,1.396-0.93,2.242c0,0.847,0.33,1.645,0.93,2.244c0.038,0.037,0.079,0.076,0.124,0.115C16.964,12.695,16.829,13.021,16.671,13.334 M10,5.417c-2.528,0-4.584,2.056-4.584,4.583c0,2.529,2.056,4.584,4.584,4.584s4.584-2.055,4.584-4.584C14.584,7.472,12.528,5.417,10,5.417 M10,13.812c-2.102,0-3.812-1.709-3.812-3.812c0-2.102,1.71-3.812,3.812-3.812c2.102,0,3.812,1.71,3.812,3.812C13.812,12.104,12.102,13.812,10,13.812"})}),Object(h.jsx)("a",{href:"/settings",children:"Settings"})]})]}),n&&Object(h.jsxs)("div",{className:"h-flex",children:[Object(h.jsxs)("svg",{onClick:s,className:"svg-logout",viewBox:"-110 -90 550 550",children:[Object(h.jsx)("path",{d:"M180.455,360.91H24.061V24.061h156.394c6.641,0,12.03-5.39,12.03-12.03s-5.39-12.03-12.03-12.03H12.03 C5.39,0.001,0,5.39,0,12.031V372.94c0,6.641,5.39,12.03,12.03,12.03h168.424c6.641,0,12.03-5.39,12.03-12.03\tC192.485,366.299,187.095,360.91,180.455,360.91z"})," ",Object(h.jsx)("path",{d:"M381.481,184.088l-83.009-84.2c-4.704-4.752-12.319-4.74-17.011,0c-4.704,4.74-4.704,12.439,0,17.179l62.558,63.46H96.279\tc-6.641,0-12.03,5.438-12.03,12.151c0,6.713,5.39,12.151,12.03,12.151h247.74l-62.558,63.46c-4.704,4.752-4.704,12.439,0,17.179\tc4.704,4.752,12.319,4.752,17.011,0l82.997-84.2C386.113,196.588,386.161,188.756,381.481,184.088z"})]}),Object(h.jsx)("div",{id:"logout",onClick:s,children:"Logout"})]}),Object(h.jsx)("div",{className:"h-flex",children:Object(h.jsx)("hr",{className:"navbar-divider"})}),Object(h.jsxs)("div",{className:"h-flex",children:[Object(h.jsx)("svg",{className:"svg-toggle",viewBox:"0 0 20 20",onClick:function(e){e.preventDefault(),document.getElementById("App").classList.add("openMargin"),document.getElementById("mySidenav").classList.add("openNav"),document.getElementById("App").classList.remove("closeMargin"),document.getElementById("mySidenav").classList.remove("closeNav")},children:Object(h.jsx)("path",{d:"M12.522,10.4l-3.559,3.562c-0.172,0.173-0.451,0.176-0.625,0c-0.173-0.173-0.173-0.451,0-0.624l3.248-3.25L8.161,6.662c-0.173-0.173-0.173-0.452,0-0.624c0.172-0.175,0.451-0.175,0.624,0l3.738,3.736C12.695,9.947,12.695,10.228,12.522,10.4 M18.406,10c0,4.644-3.764,8.406-8.406,8.406c-4.644,0-8.406-3.763-8.406-8.406S5.356,1.594,10,1.594C14.643,1.594,18.406,5.356,18.406,10M17.521,10c0-4.148-3.374-7.521-7.521-7.521c-4.148,0-7.521,3.374-7.521,7.521c0,4.147,3.374,7.521,7.521,7.521C14.147,17.521,17.521,14.147,17.521,10"})}),Object(h.jsx)("div",{id:"close",onClick:function(e){e.preventDefault(),document.getElementById("mySidenav").classList.add("closeNav"),document.getElementById("App").classList.add("closeMargin"),document.getElementById("App").classList.remove("openMargin"),document.getElementById("mySidenav").classList.remove("openNav")},children:"Close"})]})]})};function S(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=p(),r=s.currentUser,o=s.logout,l=Object(m.g)();function d(){return(d=Object(w.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),e.prev=1,e.next=4,o();case 4:l.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(y,{}),Object(h.jsx)(C.a,{children:Object(h.jsxs)(C.a.Body,{children:[Object(h.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),c&&Object(h.jsx)(k.a,{variant:"danger",children:c}),Object(h.jsx)("strong",{children:"Email:"})," ",r.email]})}),Object(h.jsx)("div",{className:"w-100 text-center mt-2",children:Object(h.jsx)(N.a,{variant:"link",onClick:function(){return d.apply(this,arguments)},children:"Log Out"})})]})}var F=c(50),D=c(172);function L(e){var t=e.component,c=Object(D.a)(e,["component"]),n=p().currentUser;return Object(h.jsx)(m.b,Object(F.a)(Object(F.a)({},c),{},{render:function(e){return n?Object(h.jsx)(t,Object(F.a)({},e)):Object(h.jsx)(m.a,{to:"/"})}}))}var M=c(300),z=c(305);function B(){var e=Object(n.useRef)(),t=p().resetPassword,c=Object(n.useState)(""),a=Object(i.a)(c,2),s=a[0],r=a[1],o=Object(n.useState)(""),l=Object(i.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)(!1),b=Object(i.a)(u,2),O=b[0],x=b[1];function m(){return(m=Object(w.a)(g.a.mark((function c(n){return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.prev=1,j(""),r(""),x(!0),c.next=7,t(e.current.value);case 7:j("Check your inbox for further instructions"),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),r("Failed to reset password");case 13:x(!1);case 14:case"end":return c.stop()}}),c,null,[[1,10]])})))).apply(this,arguments)}return Object(h.jsx)(M.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(h.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(h.jsx)(C.a,{children:Object(h.jsxs)(C.a.Body,{children:[Object(h.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),s&&Object(h.jsx)(k.a,{variant:"danger",children:s}),d&&Object(h.jsx)(k.a,{variant:"success",children:d}),Object(h.jsxs)(z.a,{onSubmit:function(e){return m.apply(this,arguments)},children:[Object(h.jsxs)(z.a.Group,{id:"email",children:[Object(h.jsx)(z.a.Label,{children:"Email"}),Object(h.jsx)(z.a.Control,{type:"email",ref:e,required:!0})]}),Object(h.jsx)(N.a,{disabled:O,className:"w-100",type:"submit",children:"Reset Password"})]}),Object(h.jsx)("div",{className:"w-100 text-center mt-3",children:Object(h.jsx)(f.b,{to:"/login",children:"Login"})})]})}),Object(h.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(h.jsx)(f.b,{to:"/signup",children:"Sign Up"})]})]})})}function U(e){var t=Object(n.useRef)(),c=Object(n.useRef)(),a=Object(n.useRef)(),s=p(),r=s.signup,o=s.currentUser,l=Object(n.useState)(""),d=Object(i.a)(l,2),j=d[0],b=d[1],O=Object(n.useState)(!1),x=Object(i.a)(O,2),f=x[0],v=x[1],C=Object(m.g)();function y(){return(y=Object(w.a)(g.a.mark((function e(n){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),c.current.value===a.current.value){e.next=3;break}return e.abrupt("return",b("Passwords do not match"));case 3:return e.prev=3,b(""),v(!0),e.next=8,r(t.current.value,c.current.value);case 8:s=e.sent,u.users.doc(s.user.uid).set({linksCreated:0,totalFileSize:0,lastUploaded:""}),C.push("/home"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),b("Failed to create an acconut"),v(!1);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){o&&C.push("/")})),Object(h.jsx)(M.a,{style:{padding:"1.25rem 1.25rem"},children:Object(h.jsxs)("div",{className:"w-100",children:[Object(h.jsx)("h2",{children:"Sign Up"}),j&&Object(h.jsx)(k.a,{variant:"danger",children:j}),Object(h.jsxs)(z.a,{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(h.jsxs)(z.a.Group,{id:"email",children:[Object(h.jsx)(z.a.Label,{children:"Email"}),Object(h.jsx)(z.a.Control,{type:"email",ref:t,required:!0})]}),Object(h.jsxs)(z.a.Group,{id:"password-confirm",children:[Object(h.jsx)(z.a.Label,{children:"Password"}),Object(h.jsx)(z.a.Control,{type:"password",ref:c,required:!0})]}),Object(h.jsxs)(z.a.Group,{id:"password",children:[Object(h.jsx)(z.a.Label,{children:"Confirm Password"}),Object(h.jsx)(z.a.Control,{type:"password",ref:a,required:!0})]}),Object(h.jsx)(N.a,{disabled:f,type:"submit",className:"w-100",children:"Sign Up"})]}),Object(h.jsxs)("div",{className:"w-100 text-center mt-2",children:["Have an account? ",Object(h.jsx)("button",{style:{border:"0"},onClick:function(){return e.login(!0)},children:"Log in"})]})]})})}var E=c(301),P=c(303),V=c.p+"static/media/sample.2e4e5687.mp4",A=c.p+"static/media/sample2.b50c072b.mp4",H=c.p+"static/media/upload.e488b31b.png";function T(e){var t=Object(n.useRef)(),c=Object(n.useRef)(),a=p(),s=a.login,r=a.currentUser,o=Object(n.useState)(""),l=Object(i.a)(o,2),d=l[0],j=l[1],u=Object(n.useState)(!1),b=Object(i.a)(u,2),O=b[0],x=b[1],v=Object(m.g)();function C(){return(C=Object(w.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,j(""),x(!0),e.next=6,s(t.current.value,c.current.value);case 6:console.log("Logged in"),v.push("/home",r),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),j("Failed to log in"),x(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){r&&v.push("/")})),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(M.a,{style:{padding:"1.25rem 1.25rem"},children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Log in"}),d&&Object(h.jsx)(k.a,{variant:"danger",children:d}),Object(h.jsxs)(z.a,{onSubmit:function(e){return C.apply(this,arguments)},children:[Object(h.jsxs)(z.a.Group,{id:"email",children:[Object(h.jsx)(z.a.Label,{children:"Email"}),Object(h.jsx)(z.a.Control,{type:"email",ref:t,required:!0})]}),Object(h.jsxs)(z.a.Group,{id:"password",children:[Object(h.jsx)(z.a.Label,{children:"Password"}),Object(h.jsx)(z.a.Control,{type:"password",ref:c,required:!0})]}),Object(h.jsx)(N.a,{variant:"primary",disabled:O,type:"submit",className:"w-100",children:"Log in"})]}),Object(h.jsx)("div",{children:Object(h.jsx)(f.b,{to:"/forgot-password",children:"Forgot password?"})}),Object(h.jsxs)("div",{className:"w-100 text-center mt-2",children:["Don't have an account? ",Object(h.jsx)("button",{style:{border:"0"},onClick:function(){return e.login(!1)},children:"Sign up"})]})]})})})}var R=c(169),I=c.n(R);c(113);function G(e){var t=Object(m.g)(),c=p().currentUser,a=Object(n.useState)(0),s=Object(i.a)(a,2),r=s[0],o=s[1],l=Object(n.useState)(!0),d=Object(i.a)(l,2),j=d[0],u=d[1];c&&t.push("/home"),Object(n.useEffect)((function(){I.a.init({duration:750,once:!0}),document.getElementById("App").classList.remove("openMargin"),document.getElementById("App").classList.remove("closeMargin")}),[]),console.log("render");return Object(h.jsxs)("div",{className:"bgimage",children:[!c&&Object(h.jsx)("header",{id:"introduction",children:Object(h.jsxs)("div",{className:"container1",children:[Object(h.jsxs)("div",{id:"left-title",children:[Object(h.jsx)("h1",{children:"File sharing"}),Object(h.jsx)("h1",{children:"Made easy."}),Object(h.jsx)("p",{children:"The quickiest and easiest way to share and download files"}),Object(h.jsx)("button",{id:"getStarted",onClick:function(){return t.push("/upload")},children:"Get started"})]}),Object(h.jsx)("div",{id:"right-container",children:Object(h.jsxs)("div",{className:"home-login-card",children:[j&&Object(h.jsx)(T,{login:u}),!j&&Object(h.jsx)(U,{login:u})]})})]})}),Object(h.jsx)("div",{className:"header section-2",children:Object(h.jsxs)("div",{className:"description-header",children:[Object(h.jsxs)("div",{className:"description-header-title","data-aos":"fade-up",children:[Object(h.jsx)("h1",{children:"Select"}),Object(h.jsx)("p",{children:"Choose any files you want to share from your computer"})]}),Object(h.jsx)("div",{className:"icon","data-aos":"fade-up","data-aos-delay":"300",children:Object(h.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,children:Object(h.jsx)("source",{src:V,type:"video/mp4"})})})]})}),Object(h.jsx)("div",{className:"header section-3",children:Object(h.jsxs)("div",{className:"description-header",children:[Object(h.jsx)("div",{className:"icon","data-aos":"fade-up","data-aos-delay":"300",children:Object(h.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,children:Object(h.jsx)("source",{src:A,type:"video/mp4"})})}),Object(h.jsxs)("div",{className:"description-header-title","data-aos":"fade-up",children:[Object(h.jsx)("h1",{children:"Upload"}),Object(h.jsxs)("p",{children:["Add more info such as a description or ",Object(h.jsx)(P.a,{placement:"right",overlay:function(e){return Object(h.jsx)(E.a,Object(F.a)(Object(F.a)({id:"button-tooltip"},e),{},{children:"Sign up or Login to access these features"}))},children:Object(h.jsx)("span",{children:"password"})})]})]})]})}),Object(h.jsx)("div",{className:"header section-4",children:Object(h.jsxs)("div",{className:"description-header right",children:[Object(h.jsxs)("div",{className:"description-header-title ","data-aos":"fade-up",children:[Object(h.jsx)("h1",{children:"Share"}),Object(h.jsx)("p",{children:"Copy and send the link to others for easy access"})]}),Object(h.jsx)("div",{className:"icon","data-aos":"fade-up","data-aos-delay":"300",children:Object(h.jsx)("img",{src:H,alt:"upload.png"})})]})}),Object(h.jsx)("div",{className:"upload-header",children:Object(h.jsx)("button",{className:"start-uploading-button",pressed:r,onClick:function(){o(1),setTimeout((function(){t.push("/upload")}),800)},children:"Start Uploading!"})})]})}var W=c(21),q=c(49),J=c.n(q),K=c(170);function _(e){return Object(h.jsxs)("div",{className:"file-row-section",children:[Object(h.jsx)("div",{className:"fiv-viv fiv-icon-".concat(e.e.metadata.name.split(".")[1])}),Object(h.jsx)("div",{className:"",children:e.e.metadata.name}),Object(h.jsxs)("div",{className:"",children:[e.e.metadata.size," bytes"]}),Object(h.jsx)("svg",{title:"download",onClick:function(t){t.preventDefault(),fetch(e.e.fileUrl,{method:"GET"}).then((function(t){t.blob().then((function(t){Object(K.saveAs)(t,e.e.metadata.name)}))}))},xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",children:Object(h.jsx)("path",{d:"M16 11h5l-9 10-9-10h5v-11h8v11zm1 11h-10v2h10v-2z",children:Object(h.jsx)("title",{children:"Download"})})})]})}var Y=c(171);function Z(){var e=window.location.pathname.substring(1),t=Object(n.useState)(),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(n.useRef)(),l=p().currentUser,d=Object(m.g)(),b=Object(n.useState)(),O=Object(i.a)(b,2),x=O[0],f=O[1],v=Object(n.useState)([]),S=Object(i.a)(v,2),F=S[0],D=S[1],L=Object(n.useState)(!0),M=Object(i.a)(L,2),B=(M[0],M[1],Object(n.useState)(!0)),U=Object(i.a)(B,2),E=U[0],P=U[1],V=Object(n.useState)(),A=Object(i.a)(V,2),H=A[0],T=A[1],R=Object(n.useState)(""),I=Object(i.a)(R,2),G=I[0],q=I[1],K=Object(n.useCallback)(Object(w.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.links.doc(e).get().then(function(){var t=Object(w.a)(g.a.mark((function t(c){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c.exists){t.next=9;break}if(s(c.data().passwordProtected),f(c.data().password),T(c),!l){t.next=7;break}return t.next=7,u.users.doc(l.uid).collection("links").doc(e).update({totalViews:o.a.firestore.FieldValue.increment(1)});case 7:t.next=10;break;case 9:d.push("/");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:return t.next=4,j.ref().child(window.location.pathname+"/").list().then((function(e){e.items.forEach(function(){var e=Object(w.a)(g.a.mark((function e(t,c){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL().then((function(e){return e}));case 2:return e.t0=e.sent,e.next=5,t.getMetadata().then((function(e){return e}));case 5:e.t1=e.sent,e.t2=c,n={fileUrl:e.t0,metadata:e.t1,name:e.t2},D((function(e){return[].concat(Object(W.a)(e),[n]).sort((function(e,t){return e.name>t.name?1:-1}))}));case 9:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}())}));case 4:P(!1);case 5:case"end":return t.stop()}}),t)}))),[l,d,e]);function Z(){return(Z=Object(w.a)(g.a.mark((function e(t){var c,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c=F.map(function(){var e=Object(w.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.fileUrl,{method:"GET"}).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Object(Y.a)(c).blob();case 4:n=e.sent,(a=document.createElement("a")).href=URL.createObjectURL(n),a.download=H.data().linkName,a.click(),a.remove();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!0===E&&K()}),[K,E]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(y,{}),!0===a&&Object(h.jsx)("div",{className:"password_form",children:Object(h.jsxs)(C.a,{children:[Object(h.jsx)(C.a.Header,{children:"Link is password protected"}),Object(h.jsxs)(C.a.Body,{children:[Object(h.jsxs)(z.a,{children:[G&&Object(h.jsx)(k.a,{variant:"danger",children:G}),Object(h.jsx)(z.a.Control,{ref:r,type:"password",placeholder:"Password"})]}),Object(h.jsx)("br",{}),Object(h.jsx)(N.a,{className:"w-100",onClick:function(e){e.preventDefault();var t=J()(r.current.value).toString();console.log("Button submit"),x===t?s(!1):q("Wrong password")},variant:"primary",children:"Enter"})]})]})}),!1===a&&!E&&Object(h.jsxs)("div",{className:"files-page",children:[Object(h.jsxs)("h1",{children:[H.data().linkName," ",Object(h.jsx)(N.a,{onClick:function(e){return Z.apply(this,arguments)},title:"Download all files as zip",children:"Download files"})]}),Object(h.jsxs)("div",{className:"files-container",children:[Object(h.jsx)("div",{className:"files-container-header",children:"My files "}),F.map((function(e,t){return Object(h.jsx)(_,{e:e},t)}))]})]})]})}var Q=c(58),X=c.n(Q),$=c(304);function ee(e){var t=Object(n.useRef)(),c=Object(n.useState)(0),a=Object(i.a)(c,2),s=a[0],r=a[1],o=Object(n.useState)(0),l=Object(i.a)(o,2),d=l[0],j=l[1],b=Object(n.useState)(e.doc.data().numFiles),O=Object(i.a)(b,2),x=O[0],f=(O[1],Object(n.useState)(e.doc.data().passwordProtected)),m=Object(i.a)(f,2),v=m[0],C=m[1],k=Object(n.useRef)(),y=Object(n.useState)(!1),S=Object(i.a)(y,2),F=S[0],D=S[1],L=Object(n.useState)(!1),M=Object(i.a)(L,2),B=M[0],U=M[1],E=p().currentUser;function P(){U(!1)}function V(e){return A.apply(this,arguments)}function A(){return(A=Object(w.a)(g.a.mark((function t(c){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),!0!==v){t.next=8;break}return t.next=4,u.users.doc(E.uid).collection("links").doc(e.doc.id).update({passwordProtected:!1,password:0});case 4:return t.next=6,u.links.doc(e.doc.id).update({passwordProtected:!1,password:0});case 6:t.next=13;break;case 8:return n=J()(k.current.value).toString(),t.next=11,u.users.doc(E.uid).collection("links").doc(e.doc.id).update({passwordProtected:!0,password:n});case 11:return t.next=13,u.links.doc(e.doc.id).update({passwordProtected:!0,password:n});case 13:C((function(e){return!e})),P();case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(){U(!0)}function T(e){e.preventDefault(),H()}return console.log("render"),Object(n.useEffect)((function(){r(e.selectAllBool)}),[e.selectAllBool]),Object(h.jsxs)("div",{children:[Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)($.a,{show:B,onHide:P,backdrop:"static",keyboard:!1,children:[Object(h.jsx)($.a.Header,{closeButton:!0,children:Object(h.jsx)($.a.Title,{children:"Password"})}),v&&Object(h.jsx)($.a.Body,{children:"Remove your password"}),!v&&Object(h.jsxs)($.a.Body,{children:[Object(h.jsx)("span",{children:"Password:"}),Object(h.jsx)(z.a.Control,{type:F?"text":"password",placeholder:"Enter a password",ref:k}),Object(h.jsx)(z.a.Check,{type:"checkbox",label:"Show password",name:"passwordCheckbox",onClick:function(){return D((function(e){return!e}))}})]}),Object(h.jsxs)($.a.Footer,{children:[Object(h.jsx)(N.a,{variant:"secondary",onClick:P,children:"Close"}),v&&Object(h.jsx)(N.a,{variant:"danger",onClick:V,children:"Remove password"}),!v&&Object(h.jsx)(N.a,{variant:"primary",onClick:V,children:"Set password"})]})]})}),Object(h.jsxs)("div",{className:"files-inner-item files-inner-header",children:[Object(h.jsx)("div",{className:"header-select",children:Object(h.jsx)("div",{ref:t,pressed:s,onClick:function(){return t=e.doc,void(1===s?(r(0),e.select((function(e){return e.filter((function(e){return e!==t.id}))}))):0===s&&(r(1),e.select((function(e){return[].concat(Object(W.a)(e),[t.id])}))));var t},className:"checkbox"})}),Object(h.jsxs)("div",{className:"grid6",onClick:function(e){e.preventDefault(),j(1===d?0:1)},children:[Object(h.jsx)("div",{className:"header-name",children:""===e.doc.data().linkName?e.doc.id:e.doc.data().linkName}),Object(h.jsx)("div",{className:"header-desc",children:""===e.doc.data().description?"-":e.doc.data().description}),Object(h.jsx)("div",{className:"header-date",children:e.doc.data().date}),Object(h.jsxs)("div",{className:"header-size",children:[e.doc.data().size/1e5,"MB"]})]})]}),1===d&&Object(h.jsx)("div",{className:"more-div",more:d,children:Object(h.jsxs)("div",{className:"more-div-left",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Files"}),x]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Views"}),e.doc.data().totalViews]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Password"}),v&&Object(h.jsx)("svg",{className:"svg-locked",onClick:T,viewBox:"-2 -1 28 28",children:Object(h.jsx)("path",{d:"M18 10v-4c0-3.313-2.687-6-6-6s-6 2.687-6 6v4h-3v14h18v-14h-3zm-10-4c0-2.206 1.794-4 4-4s4 1.794 4 4v4h-8v-4zm11 16h-14v-10h14v10z"})}),!1===v&&Object(h.jsx)("svg",{className:"svg-locked",onClick:T,viewBox:"-2 -1 28 28",children:Object(h.jsx)("path",{d:"M8 10v-4c0-2.206 1.795-4 4-4s4 1.794 4 4v1h2v-1c0-3.313-2.687-6-6-6s-6 2.687-6 6v4h-3v14h18v-14h-13zm11 12h-14v-10h14v10z"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Copy"}),Object(h.jsx)("svg",{className:"svg-copy",viewBox:"0 0 20 20",onClick:function(t){t.preventDefault(),function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style={position:"absolute",left:"-9999px"},document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}("".concat(window.location.hostname,":3000/").concat(e.doc.id))},children:Object(h.jsx)("path",{d:"M17.391,2.406H7.266c-0.232,0-0.422,0.19-0.422,0.422v3.797H3.047c-0.232,0-0.422,0.19-0.422,0.422v10.125c0,0.232,0.19,0.422,0.422,0.422h10.125c0.231,0,0.422-0.189,0.422-0.422v-3.797h3.797c0.232,0,0.422-0.19,0.422-0.422V2.828C17.812,2.596,17.623,2.406,17.391,2.406 M12.749,16.75h-9.28V7.469h3.375v5.484c0,0.231,0.19,0.422,0.422,0.422h5.483V16.75zM16.969,12.531H7.688V3.25h9.281V12.531z"})})]}),Object(h.jsxs)("div",{className:"more-div-right",children:[Object(h.jsx)(X.a,{size:64,value:"".concat(window.location.hostname,"/").concat(e.doc.id)}),Object(h.jsxs)("a",{href:"/".concat(e.doc.id),target:"_blank",rel:"noopener noreferrer",children:[window.location.hostname,"/".concat(e.doc.id)]})]})]})})]})}var te=a.a.memo(ee);function ce(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=p().currentUser,r=Object(n.useState)(!0),l=Object(i.a)(r,2),d=l[0],b=l[1],O=Object(n.useState)(!1),x=Object(i.a)(O,2),f=x[0],m=x[1],v=u.users.doc(s.uid).collection("links"),C=Object(n.useState)([]),k=Object(i.a)(C,2),N=k[0],S=k[1],F=Object(n.useState)(0),D=Object(i.a)(F,2),L=D[0],M=D[1],z=Object(n.useState)([0,0,0]),B=Object(i.a)(z,2),U=B[0],E=B[1],P=Object(n.useState)(0),V=Object(i.a)(P,2),A=(V[0],V[1]),H=Object(n.useState)([]),T=Object(i.a)(H,2),R=(T[0],T[1],Object(n.useState)("descending")),I=Object(i.a)(R,2),G=I[0],q=I[1],J=Object(n.useState)("ascending"),K=Object(i.a)(J,2),_=K[0],Y=K[1],Z=Object(n.useState)("ascending"),Q=Object(i.a)(Z,2),X=Q[0],$=Q[1];function ee(){return(ee=Object(w.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Load File"),e.next=3,v.get().then((function(e){var t=e.docs.sort((function(e,t){return t.data().preciseDate.toDate()-e.data().preciseDate.toDate()}));m(!0),a(Object(W.a)(t))}));case 3:b(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!0===d&&function(){ee.apply(this,arguments)}()}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(y,{}),Object(h.jsxs)("div",{className:"files-page",children:[Object(h.jsx)("h1",{children:"Files"}),Object(h.jsxs)("div",{className:"files-container",children:[Object(h.jsx)("div",{delete:N.length>0?"1":"0",className:"files-container-header",children:"My files"}),N.length>0&&Object(h.jsx)("div",{className:"delete-header",onClick:function(e){e.preventDefault(),console.log("Deleted"),N.forEach(function(){var e=Object(w.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.doc(t).delete();case 2:return e.next=4,u.links.doc(t).delete();case 4:u.users.doc(s.uid).update({linksCreated:o.a.firestore.FieldValue.increment(-1),totalFileSize:o.a.firestore.FieldValue.increment(-c.filter((function(e){return e.id===t}))[0].data().size)}),j.ref("".concat(t)).list().then((function(e){e.items.forEach((function(e){j.ref(e.fullPath).delete()}))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a((function(e){return e.filter((function(e){return!N.includes(e.id)}))})),S([])},children:"Delete"}),Object(h.jsxs)("div",{className:"files-inner-header",children:[Object(h.jsx)("div",{className:"header-select",children:Object(h.jsx)("div",{className:"checkbox",onClick:function(e){e.preventDefault(),0===L?(M(1),S(c.map((function(e){return e.id})))):(M(0),S([]))}})}),Object(h.jsxs)("div",{className:"header-name",onClick:function(e){if(e.preventDefault(),"descending"===_){var t=c.sort((function(e,t){return e.id>t.id?1:-1}));a(Object(W.a)(t)),Y("ascending"),E([1,0,0])}else{var n=c.sort((function(e,t){return e.id>t.id?-1:1}));a(Object(W.a)(n)),Y("descending"),E([0,0,0])}},children:["Name",Object(h.jsx)("svg",{className:"svg-up",orientation:U[0],viewBox:"0 0 20 20",children:Object(h.jsx)("path",{fill:"none",d:"M11.611,10.049l-4.76-4.873c-0.303-0.31-0.297-0.804,0.012-1.105c0.309-0.304,0.803-0.293,1.105,0.012l5.306,5.433c0.304,0.31,0.296,0.805-0.012,1.105L7.83,15.928c-0.152,0.148-0.35,0.223-0.547,0.223c-0.203,0-0.406-0.08-0.559-0.236c-0.303-0.309-0.295-0.803,0.012-1.104L11.611,10.049z"})})]}),Object(h.jsx)("div",{className:"header-desc",children:"Description"}),Object(h.jsxs)("div",{className:"header-date",onClick:function(e){if(e.preventDefault(),"ascending"===G){var t=c.sort((function(e,t){return e.data().preciseDate.toDate()-t.data().preciseDate.toDate()}));a(Object(W.a)(t)),q("descending"),E([0,1,0])}else{var n=c.sort((function(e,t){return t.data().preciseDate.toDate()-e.data().preciseDate.toDate()}));a(Object(W.a)(n)),q("ascending"),E([0,0,0])}},children:["Date Created",Object(h.jsx)("svg",{className:"svg-up",orientation:U[1],viewBox:"0 0 20 20",children:Object(h.jsx)("path",{fill:"none",d:"M11.611,10.049l-4.76-4.873c-0.303-0.31-0.297-0.804,0.012-1.105c0.309-0.304,0.803-0.293,1.105,0.012l5.306,5.433c0.304,0.31,0.296,0.805-0.012,1.105L7.83,15.928c-0.152,0.148-0.35,0.223-0.547,0.223c-0.203,0-0.406-0.08-0.559-0.236c-0.303-0.309-0.295-0.803,0.012-1.104L11.611,10.049z"})})]}),Object(h.jsxs)("div",{className:"header-size",onClick:function(e){if(e.preventDefault(),"ascending"===X){var t=c.sort((function(e,t){return e.data().size-t.data().size}));a(Object(W.a)(t)),$("descending"),E([0,0,1])}else{var n=c.sort((function(e,t){return t.data().size-e.data().size}));a(Object(W.a)(n)),$("ascending"),E([0,0,0])}},children:["Size",Object(h.jsx)("svg",{className:"svg-up",orientation:U[2],viewBox:"0 0 20 20",children:Object(h.jsx)("path",{fill:"none",d:"M11.611,10.049l-4.76-4.873c-0.303-0.31-0.297-0.804,0.012-1.105c0.309-0.304,0.803-0.293,1.105,0.012l5.306,5.433c0.304,0.31,0.296,0.805-0.012,1.105L7.83,15.928c-0.152,0.148-0.35,0.223-0.547,0.223c-0.203,0-0.406-0.08-0.559-0.236c-0.303-0.309-0.295-0.803,0.012-1.104L11.611,10.049z"})})]})]}),f&&Object(W.a)(c).map((function(e,t){return Object(h.jsx)(te,{doc:e,select:S,update:A,selectAllBool:L},e.id)}))]})]})]})}function ne(e){return Object(h.jsx)("div",{className:"footer",children:Object(h.jsxs)("div",{className:"footer-table",children:[Object(h.jsx)("a",{href:"/",children:"Home"}),Object(h.jsx)("a",{href:"/upload",children:"Upload "}),Object(h.jsx)("a",{href:"/contact",children:"Contact"}),Object(h.jsx)("a",{href:"/login",children:"Sign in / Sign up"})]})})}var ae=c(81);function se(){var e=Object(m.h)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}function re(){var e=j,t=Object(n.useState)(!1),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)([]),l=Object(i.a)(r,2),d=l[0],b=l[1],O=Object(n.useRef)("test"),x=Object(n.useRef)(null),f=p().currentUser,m=Object(n.useState)(!1),v=Object(i.a)(m,2),C=v[0],k=v[1],N=Object(n.useState)(0),y=Object(i.a)(N,2),S=y[0],F=y[1],D=Object(n.useState)(1),L=Object(i.a)(D,2),M=L[0],B=L[1],U=Object(n.useState)(0),E=Object(i.a)(U,2),P=E[0],V=E[1],A=Object(n.useRef)(),H=Object(n.useState)(0),T=Object(i.a)(H,2),R=T[0],I=T[1];function G(){return q.apply(this,arguments)}function q(){return(q=Object(w.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(ae.uid)(8),e.next=3,u.links.doc(t).get().then((function(e){return e}));case 3:if(!e.sent.exists){e.next=10;break}return e.next=7,G();case 7:return e.abrupt("return",e.sent);case 10:return F(t),e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=Object(n.useCallback)(function(){var t=Object(w.a)(g.a.mark((function t(c){var n,a,s,r,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),n=[x.current.value,A.current.value,O.current.value],a=n[0],s=n[1],r=n[2],B(4),t.next=5,G();case 5:return i=t.sent,console.log(a,s,r),t.next=9,Promise.all(Array.from(d).map(function(){var t=Object(w.a)(g.a.mark((function t(c){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ref(i).child(c.name),t.next=3,n.put(c,{contentDisposition:"attachment"}).then((function(){var e=new Date,t=e.getUTCMonth()+1+"/"+e.getUTCDate()+"/"+e.getUTCFullYear();u.links.doc(i).set({date:t,preciseDate:o.a.firestore.FieldValue.serverTimestamp(),linkName:a||i,description:s||"",totalViews:0,size:R,numFiles:d.length,fileTypes:d.map((function(e){return e.type})),passwordProtected:!!r,password:r?J()(r).toString():0}),u.users.doc(f.uid).collection("links").doc(i).set({date:t,preciseDate:o.a.firestore.FieldValue.serverTimestamp(),linkName:a||i,description:s||"",totalViews:0,size:R,numFiles:d.length,fileTypes:d.map((function(e){return e.type})),passwordProtected:!!r,password:r?J()(r).toString():0})}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 9:if(!f){t.next=12;break}return t.next=12,u.users.doc(f.uid).update({linksCreated:o.a.firestore.FieldValue.increment(1),totalFileSize:o.a.firestore.FieldValue.increment(R),lastUploaded:i});case 12:k(!0),B(3);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[d,R]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(se,{}),Object(h.jsxs)("div",{className:"outer-card",children:[1===M&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"files-list",children:Object(h.jsx)("div",{children:Array.from(d).map((function(e,t){return Object(h.jsxs)("div",{children:[Object(h.jsx)("svg",{onClick:function(){return function(e){b((function(t){return t.filter((function(t){return e!==t}))})),I((function(t){return t-e.size}))}(e)},xmlns:"http://www.w3.org/2000/svg",height:"94%",width:"1.5rem",className:"ionicon",viewBox:"35 100 400 400",children:Object(h.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"})}),e.name]},t)}))})}),Object(h.jsxs)("form",{className:"uploadForm",children:[Object(h.jsx)("input",{type:"file",name:"file",id:"file",className:"inputfile",onChange:function(e){var t=e.target.files;I(Object.values(t).reduce((function(e,t){return e+t.size}),0)),b((function(e){var c=new Set;return[].concat(Object(W.a)(e),Object(W.a)(t)).filter((function(e){var t=c.has(e.name);return c.add(e.name),!t}))}))},multiple:!0},P),Object(h.jsx)("label",{className:"uploadButton",htmlFor:"file",children:"Select Files"})]}),Object(h.jsx)("button",{id:"clear-button",onClick:function(){V((function(e){return e+1})),b([]),I(0)},children:"Clear"}),Object(h.jsx)("div",{className:"next-button",onClick:function(){d.length>0&&B(2)},children:"Next"})]}),2===M&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("form",{className:"metadataForm",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{children:"Name: "}),Object(h.jsx)(z.a.Control,{type:"text",placeholder:"Optional",ref:x})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{children:"Password:"}),Object(h.jsx)(z.a.Control,{type:a?"text":"password",placeholder:"Optional",ref:O}),Object(h.jsx)(z.a.Check,{type:"checkbox",label:"Show password",name:"passwordCheckbox",onClick:function(){return s((function(e){return!e}))}})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{children:"Description: "}),Object(h.jsx)(z.a.Control,{type:"text",placeholder:"Optional",ref:A})]})]}),Object(h.jsx)("div",{className:"submitform-button",onClick:K,children:"Finish Upload"}),Object(h.jsx)("button",{className:"back-button",onClick:function(){return B(1)},children:"Go back"})]}),3===M&&Object(h.jsx)("div",{className:"card-container",children:Object(h.jsxs)("div",{className:"inner-card-container share",children:[C&&Object(h.jsxs)("div",{children:[Object(h.jsx)("a",{href:"/".concat(S),children:"".concat(window.location.host,"/").concat(S)}),Object(h.jsx)(X.a,{value:"".concat(window.location.host,"/").concat(S)})]}),Object(h.jsx)("button",{onClick:function(e){e.preventDefault(),B(1),b([]),I(0)},children:"Upload more"})]})})]}),4===M&&Object(h.jsx)("div",{className:"load-container",children:Object(h.jsxs)("div",{className:"lds-ring",children:[Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{})]})})]})}function ie(){var e=p().currentUser,t=Object(n.useState)(!0),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(0),o=Object(i.a)(r,2),l=o[0],d=o[1],j=Object(n.useState)(0),b=Object(i.a)(j,2),O=b[0],x=b[1],f=Object(n.useState)(0),m=Object(i.a)(f,2),v=m[0],C=m[1],k=Object(n.useState)(0),N=Object(i.a)(k,2),S=N[0],F=N[1];Object(n.useEffect)((function(){!0===a&&D(),u.users.doc(e.uid).onSnapshot((function(e){e&&(d(e.data().totalFileSize),x(e.data().linksCreated),C(e.data().lastUploaded))}))}),[]);var D=function(){var t=Object(w.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u.users.doc(e.uid).collection("links").get().then((function(e){F(e.docs.reduce((function(e,t){return e+t.data().totalViews}),0))})),s(!1);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(y,{}),Object(h.jsxs)("div",{className:"home-page",children:[Object(h.jsx)("h1",{children:e.email}),Object(h.jsxs)("div",{className:"nav-panel",children:[Object(h.jsxs)("div",{className:"nav-panel-item",children:[Object(h.jsx)("div",{className:"nav-panel-item-header",children:"Links Created"}),Object(h.jsx)("span",{children:O})]}),Object(h.jsxs)("div",{className:"nav-panel-item",children:[Object(h.jsx)("div",{className:"nav-panel-item-header",children:"Storage"}),Object(h.jsxs)("span",{children:[(l/1e6).toPrecision(3),"MB"]})]}),Object(h.jsxs)("div",{className:"nav-panel-item",children:[Object(h.jsx)("div",{className:"nav-panel-item-header",children:"Last uploaded"}),Object(h.jsx)("span",{children:v})]}),Object(h.jsxs)("div",{className:"nav-panel-item",children:[Object(h.jsx)("div",{className:"nav-panel-item-header",children:"Views"}),Object(h.jsx)("span",{children:S})]})]}),Object(h.jsx)("div",{className:"nav-panel-big-card",children:Object(h.jsxs)("div",{className:"nav-panel-upload-card",id:"upload-card",children:[Object(h.jsx)("div",{className:"nav-panel-item-header",children:"Upload"}),Object(h.jsx)(re,{})]})})]})]})}function oe(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(y,{}),Object(h.jsx)("div",{children:"Contact information"})]})}var le=c(302);function de(){var e=j,t=Object(m.g)(),c=Object(n.useState)(!1),a=Object(i.a)(c,2),s=a[0],r=a[1],l=Object(n.useState)([]),d=Object(i.a)(l,2),b=d[0],O=d[1],p=Object(n.useState)(!1),x=Object(i.a)(p,2),f=x[0],v=x[1],C=Object(n.useState)(0),k=Object(i.a)(C,2),y=k[0],S=k[1],F=Object(n.useState)(!1),D=Object(i.a)(F,2),L=D[0],M=D[1],z=Object(n.useState)(1),B=Object(i.a)(z,2),U=B[0],E=B[1],P=Object(n.useState)(0),V=Object(i.a)(P,2),A=V[0],H=V[1];function T(){return R.apply(this,arguments)}function R(){return(R=Object(w.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(ae.uid)(8),e.next=3,u.links.doc(t).get().then((function(e){return e}));case 3:if(!e.sent.exists){e.next=10;break}return e.next=7,T();case 7:return e.abrupt("return",e.sent);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(w.a)(g.a.mark((function t(c){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),!(b.length>0)){t.next=14;break}return M(!0),E(0),t.next=6,T();case 6:return n=t.sent,S(n),t.next=10,Promise.all(Array.from(b).map(function(){var t=Object(w.a)(g.a.mark((function t(c){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.ref(n).child(c.name),t.next=3,a.put(c,{contentDisposition:"attachment"}).then((function(){var e=new Date,t=e.getUTCMonth()+1+"/"+e.getUTCDate()+"/"+e.getUTCFullYear();u.links.doc(n).set({date:t,preciseDate:o.a.firestore.FieldValue.serverTimestamp(),linkName:n,description:"",totalViews:0,size:A,numFiles:b.length,fileTypes:b.map((function(e){return e.type})),passwordProtected:!1,password:0})}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 10:v(!0),E(3),O([]),M(!1);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(se,{}),Object(h.jsxs)(le.a,{style:{padding:"3rem 2rem"},children:[Object(h.jsx)("h1",{children:"Want more features?"}),Object(h.jsxs)("p",{children:["Sign up to access additional features, such as",Object(h.jsx)("br",{}),"- Custom name and descriptions",Object(h.jsx)("br",{}),"- Password protected links",Object(h.jsx)("br",{}),"- Multiple file uploads"]}),Object(h.jsx)("p",{children:Object(h.jsx)(N.a,{onClick:function(){return t.push("/")},variant:"primary",children:"Sign up"})})]}),Object(h.jsxs)("div",{className:"restricted-upload-page",children:[U>0&&b.length>0&&b[0].name,1===U&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("form",{children:[Object(h.jsx)("input",{type:"file",name:"file",id:"file",className:"inputfile",onChange:function(e){var t=e.target.files;H(Object.values(t).reduce((function(e,t){return e+t.size}),0)),O((function(e){var c=new Set;return[].concat(Object(W.a)(e),Object(W.a)(t)).filter((function(e){var t=c.has(e.name);return c.add(e.name),!t}))})),r(!0)}}),Object(h.jsx)("label",{htmlFor:"file",className:"select-files",children:"Select files"})]}),Object(h.jsx)(N.a,{variant:"dark",onClick:function(e){return I.apply(this,arguments)},disabled:!s||"",children:"Upload"})]}),L&&Object(h.jsxs)("div",{class:"lds-ring",children:[Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{})]}),3===U&&Object(h.jsxs)("div",{className:"restricted-share",children:[f&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(X.a,{value:"".concat(window.location.host,"/").concat(y)}),Object(h.jsx)("a",{href:"/".concat(y),children:"".concat(window.location.host,"/").concat(y)})]}),Object(h.jsx)(N.a,{variant:"dark",onClick:function(e){e.preventDefault(),E(1),O([]),H(0)},children:"Upload more"})]})]})]})}function je(){return Object(h.jsxs)("div",{id:"App",style:{position:"relative"},children:[Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(f.a,{children:Object(h.jsx)(x,{children:Object(h.jsxs)(m.d,{children:[Object(h.jsx)(m.b,{exact:!0,path:"/",children:Object(h.jsx)(G,{})}),Object(h.jsx)(m.b,{path:"/forgot-password",component:B}),Object(h.jsx)(m.b,{path:"/upload",component:de}),Object(h.jsx)(L,{path:"/home",component:ie}),Object(h.jsx)(L,{path:"/files",component:ce}),Object(h.jsx)(L,{path:"/settings",component:S}),Object(h.jsx)(L,{path:"/contact",component:oe}),Object(h.jsx)(m.b,{path:"/",component:Z})]})})})}),Object(h.jsx)(ne,{})]})}var ue=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,307)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};c(290);r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(je,{})}),document.getElementById("root")),ue()},61:function(e,t,c){}},[[291,1,2]]]);
//# sourceMappingURL=main.00fbcf66.chunk.js.map